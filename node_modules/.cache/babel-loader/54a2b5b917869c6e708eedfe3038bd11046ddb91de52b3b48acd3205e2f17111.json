{"ast":null,"code":"import _defineProperty from \"/root/FrontPlatform/vue-front/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport { defineComponent, ref, reactive, watch, onMounted, onBeforeUnmount, provide, computed, nextTick, openBlock, createElementBlock, normalizeClass, createCommentVNode, createElementVNode, renderSlot } from \"vue\";\nimport computeScrollIntoView from \"compute-scroll-into-view\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport { isNumber, isWindow } from \"../_utils/is.js\";\nimport { getElement, on, off } from \"../_utils/dom.js\";\nimport { slide } from \"./utils.js\";\nimport { anchorInjectionKey } from \"./context.js\";\nimport { throttleByRaf } from \"../_utils/throttle-by-raf.js\";\nimport _export_sfc from \"../_virtual/plugin-vue_export-helper.js\";\nvar BOUNDARY_POSITIONS = [\"start\", \"end\", \"center\", \"nearest\"];\nvar _sfc_main = defineComponent({\n  name: \"Anchor\",\n  props: {\n    boundary: {\n      type: [Number, String],\n      \"default\": \"start\",\n      validator: function validator(value) {\n        return isNumber(value) || BOUNDARY_POSITIONS.includes(value);\n      }\n    },\n    lineLess: {\n      type: Boolean,\n      \"default\": false\n    },\n    scrollContainer: {\n      type: [String, Object]\n    },\n    changeHash: {\n      type: Boolean,\n      \"default\": true\n    },\n    smooth: {\n      type: Boolean,\n      \"default\": true\n    }\n  },\n  emits: {\n    select: function select(hash, preHash) {\n      return true;\n    },\n    change: function change(hash) {\n      return true;\n    }\n  },\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit;\n    var prefixCls = getPrefixCls(\"anchor\");\n    var anchorRef = ref();\n    var lineSliderRef = ref();\n    var links = reactive({});\n    var currentLink = ref(\"\");\n    var isScrolling = ref(false);\n    var scrollContainerEle = ref();\n    var containerEle = ref();\n    var addLink = function addLink(hash, node) {\n      if (!hash) return;\n      links[hash] = node;\n    };\n    var removeLink = function removeLink(hash) {\n      delete links[hash];\n    };\n    var handleClick = function handleClick(e, hash) {\n      if (!props.changeHash) {\n        e.preventDefault();\n      }\n      if (hash) {\n        scrollIntoView(hash);\n        handleAnchorChange(hash);\n      }\n      emit(\"select\", hash, currentLink.value);\n    };\n    var scrollIntoView = function scrollIntoView(hash) {\n      try {\n        var element = getElement(hash);\n        if (!element) return;\n        var block;\n        var diff = 0;\n        if (isNumber(props.boundary)) {\n          block = \"start\";\n          diff = props.boundary;\n        } else {\n          block = props.boundary;\n        }\n        var actions = computeScrollIntoView(element, {\n          block: block\n        });\n        if (!actions.length) return;\n        var _actions$ = actions[0],\n          el = _actions$.el,\n          top = _actions$.top;\n        var targetTop = top - diff;\n        slide(el, targetTop, function () {\n          isScrolling.value = false;\n        });\n        isScrolling.value = true;\n      } catch (e) {\n        console.error(e);\n      }\n    };\n    var handleScroll = throttleByRaf(function () {\n      if (isScrolling.value) return;\n      var element = getFirstInViewportEle();\n      if (element && element.id) {\n        var hash = \"#\".concat(element.id);\n        handleAnchorChange(hash);\n      }\n    });\n    var handleAnchorChange = function handleAnchorChange(hash) {\n      if (!links[hash] && anchorRef.value) {\n        var element = getElement(\"a[data-href='\".concat(hash, \"']\"), anchorRef.value);\n        if (!element) return;\n        links[hash] = element;\n      }\n      if (hash !== currentLink.value) {\n        currentLink.value = hash;\n        nextTick(function () {\n          emit(\"change\", hash);\n        });\n      }\n    };\n    var getFirstInViewportEle = function getFirstInViewportEle() {\n      if (!scrollContainerEle.value || !containerEle.value) {\n        return void 0;\n      }\n      var boundary = isNumber(props.boundary) ? props.boundary : 0;\n      var containerRect = containerEle.value.getBoundingClientRect();\n      for (var _i = 0, _Object$keys = Object.keys(links); _i < _Object$keys.length; _i++) {\n        var hash = _Object$keys[_i];\n        var element = getElement(hash);\n        if (element) {\n          var _element$getBoundingC = element.getBoundingClientRect(),\n            top = _element$getBoundingC.top;\n          var offsetTop = isWindow(scrollContainerEle.value) ? top - boundary : top - containerRect.top - boundary;\n          if (offsetTop >= 0 && offsetTop <= containerRect.height / 2) {\n            return element;\n          }\n        }\n      }\n      return void 0;\n    };\n    watch(currentLink, function () {\n      var link = links[currentLink.value];\n      if (!props.lineLess && link && lineSliderRef.value) {\n        lineSliderRef.value.style.top = \"\".concat(link.offsetTop, \"px\");\n      }\n    });\n    var bindScrollEvent = function bindScrollEvent() {\n      if (scrollContainerEle.value) {\n        on(scrollContainerEle.value, \"scroll\", handleScroll);\n      }\n    };\n    var unbindScrollEvent = function unbindScrollEvent() {\n      if (scrollContainerEle.value) {\n        off(scrollContainerEle.value, \"scroll\", handleScroll);\n      }\n    };\n    var getContainer = function getContainer() {\n      if (props.scrollContainer) {\n        scrollContainerEle.value = isWindow(props.scrollContainer) ? window : getElement(props.scrollContainer);\n        containerEle.value = isWindow(props.scrollContainer) ? document.documentElement : getElement(props.scrollContainer);\n      } else {\n        scrollContainerEle.value = window;\n        containerEle.value = document.documentElement;\n      }\n    };\n    onMounted(function () {\n      getContainer();\n      var hash = decodeURIComponent(window.location.hash);\n      if (hash) {\n        scrollIntoView(hash);\n        handleAnchorChange(hash);\n      } else {\n        handleScroll();\n      }\n      bindScrollEvent();\n    });\n    onBeforeUnmount(function () {\n      unbindScrollEvent();\n    });\n    provide(anchorInjectionKey, reactive({\n      currentLink: currentLink,\n      addLink: addLink,\n      removeLink: removeLink,\n      handleClick: handleClick\n    }));\n    var cls = computed(function () {\n      return [prefixCls, _defineProperty({}, \"\".concat(prefixCls, \"-line-less\"), props.lineLess)];\n    });\n    return {\n      prefixCls: prefixCls,\n      cls: cls,\n      anchorRef: anchorRef,\n      lineSliderRef: lineSliderRef\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", {\n    ref: \"anchorRef\",\n    \"class\": normalizeClass(_ctx.cls)\n  }, [!_ctx.lineLess ? (openBlock(), createElementBlock(\"div\", {\n    key: 0,\n    ref: \"lineSliderRef\",\n    \"class\": normalizeClass(\"\".concat(_ctx.prefixCls, \"-line-slider\"))\n  }, null, 2)) : createCommentVNode(\"v-if\", true), createElementVNode(\"ul\", {\n    \"class\": normalizeClass(\"\".concat(_ctx.prefixCls, \"-list\"))\n  }, [renderSlot(_ctx.$slots, \"default\")], 2)], 2);\n}\nvar _Anchor = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _Anchor as default };","map":{"version":3,"names":["defineComponent","ref","reactive","watch","onMounted","onBeforeUnmount","provide","computed","nextTick","openBlock","createElementBlock","normalizeClass","createCommentVNode","createElementVNode","renderSlot","computeScrollIntoView","getPrefixCls","isNumber","isWindow","getElement","on","off","slide","anchorInjectionKey","throttleByRaf","_export_sfc","BOUNDARY_POSITIONS","_sfc_main","name","props","boundary","type","Number","String","validator","value","includes","lineLess","Boolean","scrollContainer","Object","changeHash","smooth","emits","select","hash","preHash","change","setup","_ref","emit","prefixCls","anchorRef","lineSliderRef","links","currentLink","isScrolling","scrollContainerEle","containerEle","addLink","node","removeLink","handleClick","e","preventDefault","scrollIntoView","handleAnchorChange","element","block","diff","actions","length","_actions$","el","top","targetTop","console","error","handleScroll","getFirstInViewportEle","id","concat","containerRect","getBoundingClientRect","_i","_Object$keys","keys","_element$getBoundingC","offsetTop","height","link","style","bindScrollEvent","unbindScrollEvent","getContainer","window","document","documentElement","decodeURIComponent","location","cls","_defineProperty","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","key","$slots","_Anchor","default"],"sources":["/root/FrontPlatform/vue-front/node_modules/@arco-design/web-vue/es/anchor/anchor.js"],"sourcesContent":["import { defineComponent, ref, reactive, watch, onMounted, onBeforeUnmount, provide, computed, nextTick, openBlock, createElementBlock, normalizeClass, createCommentVNode, createElementVNode, renderSlot } from \"vue\";\nimport computeScrollIntoView from \"compute-scroll-into-view\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport { isNumber, isWindow } from \"../_utils/is.js\";\nimport { getElement, on, off } from \"../_utils/dom.js\";\nimport { slide } from \"./utils.js\";\nimport { anchorInjectionKey } from \"./context.js\";\nimport { throttleByRaf } from \"../_utils/throttle-by-raf.js\";\nimport _export_sfc from \"../_virtual/plugin-vue_export-helper.js\";\nconst BOUNDARY_POSITIONS = [\"start\", \"end\", \"center\", \"nearest\"];\nconst _sfc_main = defineComponent({\n  name: \"Anchor\",\n  props: {\n    boundary: {\n      type: [Number, String],\n      default: \"start\",\n      validator: (value) => {\n        return isNumber(value) || BOUNDARY_POSITIONS.includes(value);\n      }\n    },\n    lineLess: {\n      type: Boolean,\n      default: false\n    },\n    scrollContainer: {\n      type: [String, Object]\n    },\n    changeHash: {\n      type: Boolean,\n      default: true\n    },\n    smooth: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: {\n    select: (hash, preHash) => true,\n    change: (hash) => true\n  },\n  setup(props, { emit }) {\n    const prefixCls = getPrefixCls(\"anchor\");\n    const anchorRef = ref();\n    const lineSliderRef = ref();\n    const links = reactive({});\n    const currentLink = ref(\"\");\n    const isScrolling = ref(false);\n    const scrollContainerEle = ref();\n    const containerEle = ref();\n    const addLink = (hash, node) => {\n      if (!hash)\n        return;\n      links[hash] = node;\n    };\n    const removeLink = (hash) => {\n      delete links[hash];\n    };\n    const handleClick = (e, hash) => {\n      if (!props.changeHash) {\n        e.preventDefault();\n      }\n      if (hash) {\n        scrollIntoView(hash);\n        handleAnchorChange(hash);\n      }\n      emit(\"select\", hash, currentLink.value);\n    };\n    const scrollIntoView = (hash) => {\n      try {\n        const element = getElement(hash);\n        if (!element)\n          return;\n        let block;\n        let diff = 0;\n        if (isNumber(props.boundary)) {\n          block = \"start\";\n          diff = props.boundary;\n        } else {\n          block = props.boundary;\n        }\n        const actions = computeScrollIntoView(element, { block });\n        if (!actions.length)\n          return;\n        const { el, top } = actions[0];\n        const targetTop = top - diff;\n        slide(el, targetTop, () => {\n          isScrolling.value = false;\n        });\n        isScrolling.value = true;\n      } catch (e) {\n        console.error(e);\n      }\n    };\n    const handleScroll = throttleByRaf(() => {\n      if (isScrolling.value)\n        return;\n      const element = getFirstInViewportEle();\n      if (element && element.id) {\n        const hash = `#${element.id}`;\n        handleAnchorChange(hash);\n      }\n    });\n    const handleAnchorChange = (hash) => {\n      if (!links[hash] && anchorRef.value) {\n        const element = getElement(`a[data-href='${hash}']`, anchorRef.value);\n        if (!element)\n          return;\n        links[hash] = element;\n      }\n      if (hash !== currentLink.value) {\n        currentLink.value = hash;\n        nextTick(() => {\n          emit(\"change\", hash);\n        });\n      }\n    };\n    const getFirstInViewportEle = () => {\n      if (!scrollContainerEle.value || !containerEle.value) {\n        return void 0;\n      }\n      const boundary = isNumber(props.boundary) ? props.boundary : 0;\n      const containerRect = containerEle.value.getBoundingClientRect();\n      for (const hash of Object.keys(links)) {\n        const element = getElement(hash);\n        if (element) {\n          const { top } = element.getBoundingClientRect();\n          const offsetTop = isWindow(scrollContainerEle.value) ? top - boundary : top - containerRect.top - boundary;\n          if (offsetTop >= 0 && offsetTop <= containerRect.height / 2) {\n            return element;\n          }\n        }\n      }\n      return void 0;\n    };\n    watch(currentLink, () => {\n      const link = links[currentLink.value];\n      if (!props.lineLess && link && lineSliderRef.value) {\n        lineSliderRef.value.style.top = `${link.offsetTop}px`;\n      }\n    });\n    const bindScrollEvent = () => {\n      if (scrollContainerEle.value) {\n        on(scrollContainerEle.value, \"scroll\", handleScroll);\n      }\n    };\n    const unbindScrollEvent = () => {\n      if (scrollContainerEle.value) {\n        off(scrollContainerEle.value, \"scroll\", handleScroll);\n      }\n    };\n    const getContainer = () => {\n      if (props.scrollContainer) {\n        scrollContainerEle.value = isWindow(props.scrollContainer) ? window : getElement(props.scrollContainer);\n        containerEle.value = isWindow(props.scrollContainer) ? document.documentElement : getElement(props.scrollContainer);\n      } else {\n        scrollContainerEle.value = window;\n        containerEle.value = document.documentElement;\n      }\n    };\n    onMounted(() => {\n      getContainer();\n      const hash = decodeURIComponent(window.location.hash);\n      if (hash) {\n        scrollIntoView(hash);\n        handleAnchorChange(hash);\n      } else {\n        handleScroll();\n      }\n      bindScrollEvent();\n    });\n    onBeforeUnmount(() => {\n      unbindScrollEvent();\n    });\n    provide(anchorInjectionKey, reactive({\n      currentLink,\n      addLink,\n      removeLink,\n      handleClick\n    }));\n    const cls = computed(() => [\n      prefixCls,\n      {\n        [`${prefixCls}-line-less`]: props.lineLess\n      }\n    ]);\n    return {\n      prefixCls,\n      cls,\n      anchorRef,\n      lineSliderRef\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", {\n    ref: \"anchorRef\",\n    class: normalizeClass(_ctx.cls)\n  }, [\n    !_ctx.lineLess ? (openBlock(), createElementBlock(\"div\", {\n      key: 0,\n      ref: \"lineSliderRef\",\n      class: normalizeClass(`${_ctx.prefixCls}-line-slider`)\n    }, null, 2)) : createCommentVNode(\"v-if\", true),\n    createElementVNode(\"ul\", {\n      class: normalizeClass(`${_ctx.prefixCls}-list`)\n    }, [\n      renderSlot(_ctx.$slots, \"default\")\n    ], 2)\n  ], 2);\n}\nvar _Anchor = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { _Anchor as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
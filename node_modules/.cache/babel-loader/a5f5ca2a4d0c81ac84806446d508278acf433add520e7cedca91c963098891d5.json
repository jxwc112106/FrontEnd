{"ast":null,"code":"import _objectSpread from \"/root/FrontPlatform/vue-front/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/web.timers.js\";\nimport apiRequest from \"../../api/networkRequest\";\nimport apiPath from \"../../api/networkPath\";\nimport { mapGetters, mapMutations } from \"vuex\";\nexport default {\n  name: 'HomePage',\n  data: function data() {\n    return {\n      Imagepath: \"\",\n      username: \"\",\n      password: \"\",\n      verificationCode: \"\",\n      verificationCodeId: \"\",\n      isbackground: true,\n      eshow: false,\n      errmsg: \"\"\n    };\n  },\n  computed: _objectSpread({}, mapGetters[(\"getVcodePath\", \"getUserName\", \"getPassWord\", \"getVerificationCode\", \"getVerificationCodeId\", \"getLoginStatus\")]),\n  methods: _objectSpread(_objectSpread({}, mapMutations[(\"setVcodePath\", \"setUserName\", \"setPassWord\", \"setVerificationCode\", \"setVerificationCodeId\", \"setLoginStatus\")]), {}, {\n    GetImage: function GetImage() {\n      var _this = this;\n      apiRequest.getVerificationCode().then(function (res) {\n        _this.$store.commit(\"setVcodePath\", apiPath.baseUrl + res.data.msg);\n        _this.$store.commit(\"setVerificationCodeId\", res.data.msg.split(\"/\")[2].split('.')[0]);\n      });\n    },\n    Login: function Login() {\n      apiRequest.login(this.username, this.password, this.verificationCode, this.verificationCodeId);\n      if (this.$store.getters.getLoginStatus) {\n        this.$router.go(-1);\n      } else {\n        this.username = \"\";\n        this.password = \"\";\n        this.verificationCode = \"\";\n        this.GetImage();\n        this.ErrorShow();\n      }\n    },\n    ErrorShow: function ErrorShow() {\n      var _this2 = this;\n      this.eshow = true;\n      this.isbackground = true;\n      setTimeout(function () {\n        _this2.eshow = false;\n        _this2.isbackground = false;\n      }, 3000);\n    }\n  }),\n  created: function created() {},\n  mounted: function mounted() {\n    var _this3 = this;\n    apiRequest.getVerificationCode().then(function (res) {\n      console.log(res.data.msg);\n      console.log(res.data.msg.split(\"/\")[2]);\n      _this3.$store.commit(\"setVcodePath\", apiPath.baseUrl + res.data.msg);\n      _this3.$store.commit(\"setVerificationCodeId\", res.data.msg.split(\"/\")[2].split('.')[0]);\n    });\n  }\n};","map":{"version":3,"names":["apiRequest","apiPath","mapGetters","mapMutations","name","data","Imagepath","username","password","verificationCode","verificationCodeId","isbackground","eshow","errmsg","computed","_objectSpread","methods","GetImage","_this","getVerificationCode","then","res","$store","commit","baseUrl","msg","split","Login","login","getters","getLoginStatus","$router","go","ErrorShow","_this2","setTimeout","created","mounted","_this3","console","log"],"sources":["/root/FrontPlatform/vue-front/src/views/frontend/LoginView.vue"],"sourcesContent":["<template>\n    <div class=\"container\">\n        <div class=\"login-wrapper\">\n            <div class=\"header\">自由者平台</div>\n            <div class=\"ishow\" v-show=\"eshow\">\n                <a-col :span=\"22\">\n                    <a-alert type=\"error\" closable>\n                        <template #title>\n                            {{   }}\n                        </template>\n                        {{ errmsg }}\n                    </a-alert>\n                </a-col>\n            </div>\n            <div :class=\"{'isbackground':isbackground}\">\n                <div class=\"form-wrapper\">\n                <input type=\"text\" v-model=\"username\" id=\"username\" placeholder=\"username\" class=\"input-item\">\n                <input type=\"password\" v-model=\"password\" id=\"password\" placeholder=\"password\" class=\"input-item\">\n                <input type=\"text\" v-model=\"verificationCode\" id=\"verificationCode\" placeholder=\"verification code\"\n                    class=\"input-item\">\n                <img @click=\"GetImage\" :src=\"$store.getters.getVcodePath\" />\n                <div class=\"btn\" type=\"button\" @click=\"Login\">Login</div>\n            </div>\n            </div>\n            <div class=\"msg\">\n                Don't have account?\n                <a href=\"#\">Sign up</a>\n            </div>\n        </div>\n    </div>\n</template>\n  \n<script>\nimport apiRequest from \"../../api/networkRequest\"\nimport apiPath from \"../../api/networkPath\"\nimport { mapGetters, mapMutations } from \"vuex\"\nexport default {\n    name: 'HomePage',\n    data() {\n        return {\n            Imagepath: \"\",\n            username: \"\",\n            password: \"\",\n            verificationCode: \"\",\n            verificationCodeId: \"\",\n            isbackground:true,\n            eshow:false,\n            errmsg:\"\"\n\n        }\n    },\n    computed: {\n        ...mapGetters[\"getVcodePath\", \"getUserName\", \"getPassWord\", \"getVerificationCode\", \"getVerificationCodeId\", \"getLoginStatus\"]\n    },\n    methods: {\n        ...mapMutations[\"setVcodePath\", \"setUserName\", \"setPassWord\", \"setVerificationCode\", \"setVerificationCodeId\", \"setLoginStatus\"],\n        GetImage() {\n            apiRequest.getVerificationCode().then(res => {\n                this.$store.commit(\"setVcodePath\", apiPath.baseUrl + res.data.msg);\n                this.$store.commit(\"setVerificationCodeId\", res.data.msg.split(\"/\")[2].split('.')[0]);\n            })\n        },\n        Login() {\n            apiRequest.login(this.username, this.password, this.verificationCode, this.verificationCodeId)\n            if (this.$store.getters.getLoginStatus){\n                this.$router.go(-1)\n            }else{\n                this.username = \"\"\n                this.password = \"\"\n                this.verificationCode = \"\"\n                this.GetImage()\n                this.ErrorShow()\n            }\n        },\n        ErrorShow(){\n            this.eshow = true\n            this.isbackground = true\n            setTimeout(() => {\n                this.eshow = false\n                this.isbackground = false\n            }, 3000);\n        }\n    },\n    created() {\n       \n    },\n    mounted() {\n        apiRequest.getVerificationCode().then(res => {\n            console.log(res.data.msg)\n            console.log(res.data.msg.split(\"/\")[2])\n            this.$store.commit(\"setVcodePath\", apiPath.baseUrl + res.data.msg);\n            this.$store.commit(\"setVerificationCodeId\", res.data.msg.split(\"/\")[2].split('.')[0]);\n        })\n    }\n}\n</script>\n  \n<style>\n* {\n    margin: 0;\n    padding: 0;\n}\n\n/* html {\n   height: 100%;\n  }\n  body {\n   height: 100%;\n  } */\n.container {\n    height: 100%;\n    background-image: linear-gradient(to right, #fbc2eb, #a6c1ee);\n}\n\n.login-wrapper {\n    background-color: #fff;\n    width: 358px;\n    height: 588px;\n    border-radius: 15px;\n    padding: 0 50px;\n    position: relative;\n    left: 33.3%;\n    top: 50%;\n    /* transform: translate(-50%, -50%); */\n}\n\n.header {\n    font-size: 38px;\n    font-weight: bold;\n    text-align: center;\n    line-height: 200px;\n}\n\n.input-item {\n    display: block;\n    width: 100%;\n    margin-bottom: 20px;\n    border: 0;\n    padding: 10px;\n    border-bottom: 1px solid rgb(128, 125, 125);\n    font-size: 15px;\n    outline: none;\n}\n\n.input-item:placeholder {\n    text-transform: uppercase;\n}\n\n.btn {\n    text-align: center;\n    padding: 10px;\n    width: 100%;\n    margin-top: 40px;\n    background-image: linear-gradient(to right, #a6c1ee, #fbc2eb);\n    color: #fff;\n}\n\n.msg {\n    text-align: center;\n    line-height: 88px;\n}\n\n.isbackground{\n    z-index:-1;\n}\n\n.ishow{\n    z-index: 1;\n    width:412px;\n    position: absolute;\n}   \n\na {\n    text-decoration-line: none;\n    color: #abc1ee;\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
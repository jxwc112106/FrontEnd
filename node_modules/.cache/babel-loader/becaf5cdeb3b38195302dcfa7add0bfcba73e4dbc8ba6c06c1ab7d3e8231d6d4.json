{"ast":null,"code":"import _createForOfIteratorHelper from \"/root/FrontPlatform/vue-front/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport { ref, computed } from \"vue\";\nvar useSelectedPath = function useSelectedPath(options, _ref) {\n  var optionMap = _ref.optionMap,\n    filteredLeafOptions = _ref.filteredLeafOptions,\n    showSearchPanel = _ref.showSearchPanel,\n    expandChild = _ref.expandChild;\n  var activeKey = ref();\n  var activeOption = computed(function () {\n    if (activeKey.value) return optionMap.get(activeKey.value);\n    return void 0;\n  });\n  var selectedPath = ref([]);\n  var displayColumns = computed(function () {\n    var columns = [options.value];\n    var _iterator = _createForOfIteratorHelper(selectedPath.value),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var key = _step.value;\n        var option = optionMap.get(key);\n        if (option == null ? void 0 : option.children) {\n          columns.push(option.children);\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    return columns;\n  });\n  var setSelectedPath = function setSelectedPath(key) {\n    var _a;\n    var option = getTargetOption(key);\n    selectedPath.value = (_a = option == null ? void 0 : option.path.map(function (item) {\n      return item.key;\n    })) != null ? _a : [];\n  };\n  var setActiveKey = function setActiveKey(key) {\n    activeKey.value = key;\n  };\n  var enabledOptions = computed(function () {\n    var _a;\n    if (showSearchPanel == null ? void 0 : showSearchPanel.value) {\n      return filteredLeafOptions.value.filter(function (item) {\n        return !item.disabled;\n      });\n    }\n    if (activeOption.value && activeOption.value.parent) {\n      return (_a = activeOption.value.parent.children) == null ? void 0 : _a.filter(function (item) {\n        return !item.disabled;\n      });\n    }\n    return options.value.filter(function (item) {\n      return !item.disabled;\n    });\n  });\n  var getTargetOption = function getTargetOption(key) {\n    var target = key ? optionMap.get(key) : void 0;\n    if (expandChild.value) {\n      while (target && target.children && target.children.length > 0) {\n        target = target.children[0];\n      }\n    }\n    return target;\n  };\n  var getNextActiveNode = function getNextActiveNode(direction) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    var _length = (_b = (_a = enabledOptions.value) == null ? void 0 : _a.length) != null ? _b : 0;\n    if (activeKey.value) {\n      var enabledIndex = (_d = (_c = enabledOptions.value) == null ? void 0 : _c.findIndex(function (item) {\n        return item.key === activeKey.value;\n      })) != null ? _d : 0;\n      if (direction === \"next\") {\n        return (_e = enabledOptions.value) == null ? void 0 : _e[(_length + enabledIndex + 1) % _length];\n      }\n      return (_f = enabledOptions.value) == null ? void 0 : _f[(_length + enabledIndex - 1) % _length];\n    }\n    return (_g = enabledOptions.value) == null ? void 0 : _g[0];\n  };\n  return {\n    activeKey: activeKey,\n    activeOption: activeOption,\n    selectedPath: selectedPath,\n    displayColumns: displayColumns,\n    setActiveKey: setActiveKey,\n    setSelectedPath: setSelectedPath,\n    getNextActiveNode: getNextActiveNode\n  };\n};\nexport { useSelectedPath };","map":{"version":3,"names":["ref","computed","useSelectedPath","options","_ref","optionMap","filteredLeafOptions","showSearchPanel","expandChild","activeKey","activeOption","value","get","selectedPath","displayColumns","columns","_iterator","_createForOfIteratorHelper","_step","s","n","done","key","option","children","push","err","e","f","setSelectedPath","_a","getTargetOption","path","map","item","setActiveKey","enabledOptions","filter","disabled","parent","target","length","getNextActiveNode","direction","_b","_c","_d","_e","_f","_g","_length","enabledIndex","findIndex"],"sources":["/root/FrontPlatform/vue-front/node_modules/@arco-design/web-vue/es/cascader/hooks/use-selected-path.js"],"sourcesContent":["import { ref, computed } from \"vue\";\nconst useSelectedPath = (options, {\n  optionMap,\n  filteredLeafOptions,\n  showSearchPanel,\n  expandChild\n}) => {\n  const activeKey = ref();\n  const activeOption = computed(() => {\n    if (activeKey.value)\n      return optionMap.get(activeKey.value);\n    return void 0;\n  });\n  const selectedPath = ref([]);\n  const displayColumns = computed(() => {\n    const columns = [options.value];\n    for (const key of selectedPath.value) {\n      const option = optionMap.get(key);\n      if (option == null ? void 0 : option.children) {\n        columns.push(option.children);\n      }\n    }\n    return columns;\n  });\n  const setSelectedPath = (key) => {\n    var _a;\n    const option = getTargetOption(key);\n    selectedPath.value = (_a = option == null ? void 0 : option.path.map((item) => item.key)) != null ? _a : [];\n  };\n  const setActiveKey = (key) => {\n    activeKey.value = key;\n  };\n  const enabledOptions = computed(() => {\n    var _a;\n    if (showSearchPanel == null ? void 0 : showSearchPanel.value) {\n      return filteredLeafOptions.value.filter((item) => !item.disabled);\n    }\n    if (activeOption.value && activeOption.value.parent) {\n      return (_a = activeOption.value.parent.children) == null ? void 0 : _a.filter((item) => !item.disabled);\n    }\n    return options.value.filter((item) => !item.disabled);\n  });\n  const getTargetOption = (key) => {\n    let target = key ? optionMap.get(key) : void 0;\n    if (expandChild.value) {\n      while (target && target.children && target.children.length > 0) {\n        target = target.children[0];\n      }\n    }\n    return target;\n  };\n  const getNextActiveNode = (direction) => {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const _length = (_b = (_a = enabledOptions.value) == null ? void 0 : _a.length) != null ? _b : 0;\n    if (activeKey.value) {\n      const enabledIndex = (_d = (_c = enabledOptions.value) == null ? void 0 : _c.findIndex((item) => item.key === activeKey.value)) != null ? _d : 0;\n      if (direction === \"next\") {\n        return (_e = enabledOptions.value) == null ? void 0 : _e[(_length + enabledIndex + 1) % _length];\n      }\n      return (_f = enabledOptions.value) == null ? void 0 : _f[(_length + enabledIndex - 1) % _length];\n    }\n    return (_g = enabledOptions.value) == null ? void 0 : _g[0];\n  };\n  return {\n    activeKey,\n    activeOption,\n    selectedPath,\n    displayColumns,\n    setActiveKey,\n    setSelectedPath,\n    getNextActiveNode\n  };\n};\nexport { useSelectedPath };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
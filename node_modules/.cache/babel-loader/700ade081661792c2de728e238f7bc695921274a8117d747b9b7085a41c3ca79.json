{"ast":null,"code":"import { computed, ref, watch } from \"vue\";\nimport { isArray } from \"../../_utils/is.js\";\nvar useColumnFilter = function useColumnFilter(_ref) {\n  var column = _ref.column,\n    tableCtx = _ref.tableCtx;\n  var filterValue = computed(function () {\n    var _a;\n    if (column.value.dataIndex && ((_a = tableCtx.filters) == null ? void 0 : _a[column.value.dataIndex])) {\n      return tableCtx.filters[column.value.dataIndex];\n    }\n    return [];\n  });\n  var filterPopupVisible = ref(false);\n  var isFilterActive = computed(function () {\n    return filterValue.value.length > 0;\n  });\n  var isMultipleFilter = computed(function () {\n    var _a;\n    return Boolean((_a = column.value.filterable) == null ? void 0 : _a.multiple);\n  });\n  var columnFilterValue = ref(filterValue.value);\n  watch(filterValue, function (value) {\n    if (isArray(value) && String(value) !== String(columnFilterValue.value)) {\n      columnFilterValue.value = value;\n    }\n  });\n  var handleFilterPopupVisibleChange = function handleFilterPopupVisibleChange(value) {\n    filterPopupVisible.value = value;\n  };\n  var setFilterValue = function setFilterValue(filterValue2) {\n    columnFilterValue.value = filterValue2;\n  };\n  var handleCheckboxFilterChange = function handleCheckboxFilterChange(values) {\n    setFilterValue(values);\n  };\n  var handleRadioFilterChange = function handleRadioFilterChange(value) {\n    setFilterValue([value]);\n  };\n  var handleFilterConfirm = function handleFilterConfirm(ev) {\n    var _a;\n    if (column.value.dataIndex) {\n      (_a = tableCtx.onFilterChange) == null ? void 0 : _a.call(tableCtx, column.value.dataIndex, columnFilterValue.value, ev);\n    }\n    handleFilterPopupVisibleChange(false);\n  };\n  var handleFilterReset = function handleFilterReset(ev) {\n    var _a;\n    setFilterValue([]);\n    if (column.value.dataIndex) {\n      (_a = tableCtx.onFilterChange) == null ? void 0 : _a.call(tableCtx, column.value.dataIndex, columnFilterValue.value, ev);\n    }\n    handleFilterPopupVisibleChange(false);\n  };\n  return {\n    filterPopupVisible: filterPopupVisible,\n    isFilterActive: isFilterActive,\n    isMultipleFilter: isMultipleFilter,\n    columnFilterValue: columnFilterValue,\n    handleFilterPopupVisibleChange: handleFilterPopupVisibleChange,\n    setFilterValue: setFilterValue,\n    handleCheckboxFilterChange: handleCheckboxFilterChange,\n    handleRadioFilterChange: handleRadioFilterChange,\n    handleFilterConfirm: handleFilterConfirm,\n    handleFilterReset: handleFilterReset\n  };\n};\nexport { useColumnFilter };","map":{"version":3,"names":["computed","ref","watch","isArray","useColumnFilter","_ref","column","tableCtx","filterValue","_a","value","dataIndex","filters","filterPopupVisible","isFilterActive","length","isMultipleFilter","Boolean","filterable","multiple","columnFilterValue","String","handleFilterPopupVisibleChange","setFilterValue","filterValue2","handleCheckboxFilterChange","values","handleRadioFilterChange","handleFilterConfirm","ev","onFilterChange","call","handleFilterReset"],"sources":["/root/FrontPlatform/vue-front/node_modules/@arco-design/web-vue/es/table/hooks/use-column-filter.js"],"sourcesContent":["import { computed, ref, watch } from \"vue\";\nimport { isArray } from \"../../_utils/is.js\";\nconst useColumnFilter = ({\n  column,\n  tableCtx\n}) => {\n  const filterValue = computed(() => {\n    var _a;\n    if (column.value.dataIndex && ((_a = tableCtx.filters) == null ? void 0 : _a[column.value.dataIndex])) {\n      return tableCtx.filters[column.value.dataIndex];\n    }\n    return [];\n  });\n  const filterPopupVisible = ref(false);\n  const isFilterActive = computed(() => filterValue.value.length > 0);\n  const isMultipleFilter = computed(() => {\n    var _a;\n    return Boolean((_a = column.value.filterable) == null ? void 0 : _a.multiple);\n  });\n  const columnFilterValue = ref(filterValue.value);\n  watch(filterValue, (value) => {\n    if (isArray(value) && String(value) !== String(columnFilterValue.value)) {\n      columnFilterValue.value = value;\n    }\n  });\n  const handleFilterPopupVisibleChange = (value) => {\n    filterPopupVisible.value = value;\n  };\n  const setFilterValue = (filterValue2) => {\n    columnFilterValue.value = filterValue2;\n  };\n  const handleCheckboxFilterChange = (values) => {\n    setFilterValue(values);\n  };\n  const handleRadioFilterChange = (value) => {\n    setFilterValue([value]);\n  };\n  const handleFilterConfirm = (ev) => {\n    var _a;\n    if (column.value.dataIndex) {\n      (_a = tableCtx.onFilterChange) == null ? void 0 : _a.call(tableCtx, column.value.dataIndex, columnFilterValue.value, ev);\n    }\n    handleFilterPopupVisibleChange(false);\n  };\n  const handleFilterReset = (ev) => {\n    var _a;\n    setFilterValue([]);\n    if (column.value.dataIndex) {\n      (_a = tableCtx.onFilterChange) == null ? void 0 : _a.call(tableCtx, column.value.dataIndex, columnFilterValue.value, ev);\n    }\n    handleFilterPopupVisibleChange(false);\n  };\n  return {\n    filterPopupVisible,\n    isFilterActive,\n    isMultipleFilter,\n    columnFilterValue,\n    handleFilterPopupVisibleChange,\n    setFilterValue,\n    handleCheckboxFilterChange,\n    handleRadioFilterChange,\n    handleFilterConfirm,\n    handleFilterReset\n  };\n};\nexport { useColumnFilter };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
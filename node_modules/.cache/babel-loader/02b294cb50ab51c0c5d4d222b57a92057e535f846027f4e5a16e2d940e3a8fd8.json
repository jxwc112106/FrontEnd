{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.set.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.every.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport { defineComponent, toRefs, computed, resolveComponent, openBlock, createBlock, withCtx, createElementBlock, normalizeClass, Fragment, renderList, mergeProps, createCommentVNode } from \"vue\";\nimport ExpandTransition from \"./expand-transition.js\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport useTreeContext from \"./hooks/use-tree-context.js\";\nimport BaseTreeNode from \"./base-node.js\";\nimport _export_sfc from \"../_virtual/plugin-vue_export-helper.js\";\nvar _sfc_main = defineComponent({\n  name: \"TransitionNodeList\",\n  components: {\n    ExpandTransition: ExpandTransition,\n    BaseTreeNode: BaseTreeNode\n  },\n  props: {\n    nodeKey: {\n      type: [String, Number],\n      required: true\n    }\n  },\n  setup: function setup(props) {\n    var prefixCls = getPrefixCls(\"tree\");\n    var classNames = [\"\".concat(prefixCls, \"-node-list\")];\n    var treeContext = useTreeContext();\n    var _toRefs = toRefs(props),\n      nodeKey = _toRefs.nodeKey;\n    var expanded = computed(function () {\n      var _a, _b;\n      return (_b = (_a = treeContext.expandedKeys) == null ? void 0 : _a.includes) == null ? void 0 : _b.call(_a, nodeKey.value);\n    });\n    var visibleNodeList = computed(function () {\n      var _a;\n      var expandedKeysSet = new Set(treeContext.expandedKeys || []);\n      var childNodeList = (_a = treeContext.flattenTreeData) == null ? void 0 : _a.filter(function (node) {\n        var _a2, _b;\n        if ((_a2 = node.pathParentKeys) == null ? void 0 : _a2.includes(nodeKey.value)) {\n          return !treeContext.filterTreeNode || ((_b = treeContext.filterTreeNode) == null ? void 0 : _b.call(treeContext, node.treeNodeData));\n        }\n        return false;\n      });\n      return childNodeList == null ? void 0 : childNodeList.filter(function (node) {\n        var _a2;\n        if (expanded.value) {\n          return (_a2 = node.pathParentKeys) == null ? void 0 : _a2.every(function (_key) {\n            return expandedKeysSet.has(_key);\n          });\n        }\n        var index = node.pathParentKeys.indexOf(nodeKey.value);\n        return node.pathParentKeys.slice(index + 1).every(function (_key) {\n          return expandedKeysSet.has(_key);\n        });\n      });\n    });\n    var show = computed(function () {\n      var _a, _b;\n      return ((_a = treeContext.currentExpandKeys) == null ? void 0 : _a.includes(nodeKey.value)) && ((_b = visibleNodeList.value) == null ? void 0 : _b.length);\n    });\n    return {\n      classNames: classNames,\n      visibleNodeList: visibleNodeList,\n      show: show,\n      expanded: expanded,\n      onTransitionEnd: function onTransitionEnd() {\n        var _a;\n        (_a = treeContext.onExpandEnd) == null ? void 0 : _a.call(treeContext, nodeKey.value);\n      }\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_BaseTreeNode = resolveComponent(\"BaseTreeNode\");\n  var _component_ExpandTransition = resolveComponent(\"ExpandTransition\");\n  return openBlock(), createBlock(_component_ExpandTransition, {\n    expanded: _ctx.expanded,\n    onEnd: _ctx.onTransitionEnd\n  }, {\n    \"default\": withCtx(function () {\n      return [_ctx.show ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        \"class\": normalizeClass(_ctx.classNames)\n      }, [(openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.visibleNodeList, function (node) {\n        return openBlock(), createBlock(_component_BaseTreeNode, mergeProps({\n          key: node.key\n        }, node.treeNodeProps), null, 16);\n      }), 128))], 2)) : createCommentVNode(\"v-if\", true)];\n    }),\n    _: 1\n  }, 8, [\"expanded\", \"onEnd\"]);\n}\nvar TransitionNodeList = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { TransitionNodeList as default };","map":{"version":3,"names":["defineComponent","toRefs","computed","resolveComponent","openBlock","createBlock","withCtx","createElementBlock","normalizeClass","Fragment","renderList","mergeProps","createCommentVNode","ExpandTransition","getPrefixCls","useTreeContext","BaseTreeNode","_export_sfc","_sfc_main","name","components","props","nodeKey","type","String","Number","required","setup","prefixCls","classNames","concat","treeContext","_toRefs","expanded","_a","_b","expandedKeys","includes","call","value","visibleNodeList","expandedKeysSet","Set","childNodeList","flattenTreeData","filter","node","_a2","pathParentKeys","filterTreeNode","treeNodeData","every","_key","has","index","indexOf","slice","show","currentExpandKeys","length","onTransitionEnd","onExpandEnd","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","_component_BaseTreeNode","_component_ExpandTransition","onEnd","key","treeNodeProps","_","TransitionNodeList","default"],"sources":["/root/FrontPlatform/vue-front/node_modules/@arco-design/web-vue/es/tree/transition-node-list.js"],"sourcesContent":["import { defineComponent, toRefs, computed, resolveComponent, openBlock, createBlock, withCtx, createElementBlock, normalizeClass, Fragment, renderList, mergeProps, createCommentVNode } from \"vue\";\nimport ExpandTransition from \"./expand-transition.js\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport useTreeContext from \"./hooks/use-tree-context.js\";\nimport BaseTreeNode from \"./base-node.js\";\nimport _export_sfc from \"../_virtual/plugin-vue_export-helper.js\";\nconst _sfc_main = defineComponent({\n  name: \"TransitionNodeList\",\n  components: {\n    ExpandTransition,\n    BaseTreeNode\n  },\n  props: {\n    nodeKey: {\n      type: [String, Number],\n      required: true\n    }\n  },\n  setup(props) {\n    const prefixCls = getPrefixCls(\"tree\");\n    const classNames = [`${prefixCls}-node-list`];\n    const treeContext = useTreeContext();\n    const { nodeKey } = toRefs(props);\n    const expanded = computed(() => {\n      var _a, _b;\n      return (_b = (_a = treeContext.expandedKeys) == null ? void 0 : _a.includes) == null ? void 0 : _b.call(_a, nodeKey.value);\n    });\n    const visibleNodeList = computed(() => {\n      var _a;\n      const expandedKeysSet = new Set(treeContext.expandedKeys || []);\n      const childNodeList = (_a = treeContext.flattenTreeData) == null ? void 0 : _a.filter((node) => {\n        var _a2, _b;\n        if ((_a2 = node.pathParentKeys) == null ? void 0 : _a2.includes(nodeKey.value)) {\n          return !treeContext.filterTreeNode || ((_b = treeContext.filterTreeNode) == null ? void 0 : _b.call(treeContext, node.treeNodeData));\n        }\n        return false;\n      });\n      return childNodeList == null ? void 0 : childNodeList.filter((node) => {\n        var _a2;\n        if (expanded.value) {\n          return (_a2 = node.pathParentKeys) == null ? void 0 : _a2.every((_key) => expandedKeysSet.has(_key));\n        }\n        const index = node.pathParentKeys.indexOf(nodeKey.value);\n        return node.pathParentKeys.slice(index + 1).every((_key) => expandedKeysSet.has(_key));\n      });\n    });\n    const show = computed(() => {\n      var _a, _b;\n      return ((_a = treeContext.currentExpandKeys) == null ? void 0 : _a.includes(nodeKey.value)) && ((_b = visibleNodeList.value) == null ? void 0 : _b.length);\n    });\n    return {\n      classNames,\n      visibleNodeList,\n      show,\n      expanded,\n      onTransitionEnd() {\n        var _a;\n        (_a = treeContext.onExpandEnd) == null ? void 0 : _a.call(treeContext, nodeKey.value);\n      }\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_BaseTreeNode = resolveComponent(\"BaseTreeNode\");\n  const _component_ExpandTransition = resolveComponent(\"ExpandTransition\");\n  return openBlock(), createBlock(_component_ExpandTransition, {\n    expanded: _ctx.expanded,\n    onEnd: _ctx.onTransitionEnd\n  }, {\n    default: withCtx(() => [\n      _ctx.show ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        class: normalizeClass(_ctx.classNames)\n      }, [\n        (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.visibleNodeList, (node) => {\n          return openBlock(), createBlock(_component_BaseTreeNode, mergeProps({\n            key: node.key\n          }, node.treeNodeProps), null, 16);\n        }), 128))\n      ], 2)) : createCommentVNode(\"v-if\", true)\n    ]),\n    _: 1\n  }, 8, [\"expanded\", \"onEnd\"]);\n}\nvar TransitionNodeList = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { TransitionNodeList as default };\n"],"mappings":";;;;;;;;;;;AAAA,SAASA,eAAe,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,gBAAgB,EAAEC,SAAS,EAAEC,WAAW,EAAEC,OAAO,EAAEC,kBAAkB,EAAEC,cAAc,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,UAAU,EAAEC,kBAAkB,QAAQ,KAAK;AACpM,OAAOC,gBAAgB,MAAM,wBAAwB;AACrD,SAASC,YAAY,QAAQ,4BAA4B;AACzD,OAAOC,cAAc,MAAM,6BAA6B;AACxD,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAOC,WAAW,MAAM,yCAAyC;AACjE,IAAMC,SAAS,GAAGlB,eAAe,CAAC;EAChCmB,IAAI,EAAE,oBAAoB;EAC1BC,UAAU,EAAE;IACVP,gBAAgB,EAAhBA,gBAAgB;IAChBG,YAAY,EAAZA;EACF,CAAC;EACDK,KAAK,EAAE;IACLC,OAAO,EAAE;MACPC,IAAI,EAAE,CAACC,MAAM,EAAEC,MAAM,CAAC;MACtBC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,KAAK,WAAAA,MAACN,KAAK,EAAE;IACX,IAAMO,SAAS,GAAGd,YAAY,CAAC,MAAM,CAAC;IACtC,IAAMe,UAAU,GAAG,IAAAC,MAAA,CAAIF,SAAS,gBAAa;IAC7C,IAAMG,WAAW,GAAGhB,cAAc,EAAE;IACpC,IAAAiB,OAAA,GAAoB/B,MAAM,CAACoB,KAAK,CAAC;MAAzBC,OAAO,GAAAU,OAAA,CAAPV,OAAO;IACf,IAAMW,QAAQ,GAAG/B,QAAQ,CAAC,YAAM;MAC9B,IAAIgC,EAAE,EAAEC,EAAE;MACV,OAAO,CAACA,EAAE,GAAG,CAACD,EAAE,GAAGH,WAAW,CAACK,YAAY,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGF,EAAE,CAACG,QAAQ,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGF,EAAE,CAACG,IAAI,CAACJ,EAAE,EAAEZ,OAAO,CAACiB,KAAK,CAAC;IAC5H,CAAC,CAAC;IACF,IAAMC,eAAe,GAAGtC,QAAQ,CAAC,YAAM;MACrC,IAAIgC,EAAE;MACN,IAAMO,eAAe,GAAG,IAAIC,GAAG,CAACX,WAAW,CAACK,YAAY,IAAI,EAAE,CAAC;MAC/D,IAAMO,aAAa,GAAG,CAACT,EAAE,GAAGH,WAAW,CAACa,eAAe,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGV,EAAE,CAACW,MAAM,CAAC,UAACC,IAAI,EAAK;QAC9F,IAAIC,GAAG,EAAEZ,EAAE;QACX,IAAI,CAACY,GAAG,GAAGD,IAAI,CAACE,cAAc,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGD,GAAG,CAACV,QAAQ,CAACf,OAAO,CAACiB,KAAK,CAAC,EAAE;UAC9E,OAAO,CAACR,WAAW,CAACkB,cAAc,KAAK,CAACd,EAAE,GAAGJ,WAAW,CAACkB,cAAc,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGd,EAAE,CAACG,IAAI,CAACP,WAAW,EAAEe,IAAI,CAACI,YAAY,CAAC,CAAC;QACtI;QACA,OAAO,KAAK;MACd,CAAC,CAAC;MACF,OAAOP,aAAa,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACE,MAAM,CAAC,UAACC,IAAI,EAAK;QACrE,IAAIC,GAAG;QACP,IAAId,QAAQ,CAACM,KAAK,EAAE;UAClB,OAAO,CAACQ,GAAG,GAAGD,IAAI,CAACE,cAAc,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGD,GAAG,CAACI,KAAK,CAAC,UAACC,IAAI;YAAA,OAAKX,eAAe,CAACY,GAAG,CAACD,IAAI,CAAC;UAAA,EAAC;QACtG;QACA,IAAME,KAAK,GAAGR,IAAI,CAACE,cAAc,CAACO,OAAO,CAACjC,OAAO,CAACiB,KAAK,CAAC;QACxD,OAAOO,IAAI,CAACE,cAAc,CAACQ,KAAK,CAACF,KAAK,GAAG,CAAC,CAAC,CAACH,KAAK,CAAC,UAACC,IAAI;UAAA,OAAKX,eAAe,CAACY,GAAG,CAACD,IAAI,CAAC;QAAA,EAAC;MACxF,CAAC,CAAC;IACJ,CAAC,CAAC;IACF,IAAMK,IAAI,GAAGvD,QAAQ,CAAC,YAAM;MAC1B,IAAIgC,EAAE,EAAEC,EAAE;MACV,OAAO,CAAC,CAACD,EAAE,GAAGH,WAAW,CAAC2B,iBAAiB,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGxB,EAAE,CAACG,QAAQ,CAACf,OAAO,CAACiB,KAAK,CAAC,MAAM,CAACJ,EAAE,GAAGK,eAAe,CAACD,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGJ,EAAE,CAACwB,MAAM,CAAC;IAC5J,CAAC,CAAC;IACF,OAAO;MACL9B,UAAU,EAAVA,UAAU;MACVW,eAAe,EAAfA,eAAe;MACfiB,IAAI,EAAJA,IAAI;MACJxB,QAAQ,EAARA,QAAQ;MACR2B,eAAe,WAAAA,gBAAA,EAAG;QAChB,IAAI1B,EAAE;QACN,CAACA,EAAE,GAAGH,WAAW,CAAC8B,WAAW,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG3B,EAAE,CAACI,IAAI,CAACP,WAAW,EAAET,OAAO,CAACiB,KAAK,CAAC;MACvF;IACF,CAAC;EACH;AACF,CAAC,CAAC;AACF,SAASuB,WAAWA,CAACC,IAAI,EAAEC,MAAM,EAAEC,MAAM,EAAEC,MAAM,EAAEC,KAAK,EAAEC,QAAQ,EAAE;EAClE,IAAMC,uBAAuB,GAAGlE,gBAAgB,CAAC,cAAc,CAAC;EAChE,IAAMmE,2BAA2B,GAAGnE,gBAAgB,CAAC,kBAAkB,CAAC;EACxE,OAAOC,SAAS,EAAE,EAAEC,WAAW,CAACiE,2BAA2B,EAAE;IAC3DrC,QAAQ,EAAE8B,IAAI,CAAC9B,QAAQ;IACvBsC,KAAK,EAAER,IAAI,CAACH;EACd,CAAC,EAAE;IACD,WAAStD,OAAO,CAAC;MAAA,OAAM,CACrByD,IAAI,CAACN,IAAI,IAAIrD,SAAS,EAAE,EAAEG,kBAAkB,CAAC,KAAK,EAAE;QAClDiE,GAAG,EAAE,CAAC;QACN,SAAOhE,cAAc,CAACuD,IAAI,CAAClC,UAAU;MACvC,CAAC,EAAE,EACAzB,SAAS,CAAC,IAAI,CAAC,EAAEG,kBAAkB,CAACE,QAAQ,EAAE,IAAI,EAAEC,UAAU,CAACqD,IAAI,CAACvB,eAAe,EAAE,UAACM,IAAI,EAAK;QAC9F,OAAO1C,SAAS,EAAE,EAAEC,WAAW,CAACgE,uBAAuB,EAAE1D,UAAU,CAAC;UAClE6D,GAAG,EAAE1B,IAAI,CAAC0B;QACZ,CAAC,EAAE1B,IAAI,CAAC2B,aAAa,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC;MACnC,CAAC,CAAC,EAAE,GAAG,CAAC,EACT,EAAE,CAAC,CAAC,IAAI7D,kBAAkB,CAAC,MAAM,EAAE,IAAI,CAAC,CAC1C;IAAA,EAAC;IACF8D,CAAC,EAAE;EACL,CAAC,EAAE,CAAC,EAAE,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;AAC9B;AACA,IAAIC,kBAAkB,GAAG,eAAgB1D,WAAW,CAACC,SAAS,EAAE,CAAC,CAAC,QAAQ,EAAE4C,WAAW,CAAC,CAAC,CAAC;AAC1F,SAASa,kBAAkB,IAAIC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}
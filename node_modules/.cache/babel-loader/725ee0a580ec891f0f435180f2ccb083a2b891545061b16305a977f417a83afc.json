{"ast":null,"code":"import \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport { toRefs, watchEffect } from \"vue\";\nfunction usePopupOverflowHidden(props) {\n  var _toRefs = toRefs(props),\n    container = _toRefs.container,\n    hidden = _toRefs.hidden;\n  var needResetContainerStyle = false;\n  var originContainerStyle = {};\n  var getScrollBarWidth = function getScrollBarWidth(element) {\n    return element.tagName === \"BODY\" ? window.innerWidth - (document.body.clientWidth || document.documentElement.clientWidth) : element.offsetWidth - element.clientWidth;\n  };\n  var setContainerStyle = function setContainerStyle() {\n    if (container.value && container.value.style.overflow !== \"hidden\") {\n      var originStyle = container.value.style;\n      needResetContainerStyle = true;\n      var containerScrollBarWidth = getScrollBarWidth(container.value);\n      if (containerScrollBarWidth) {\n        originContainerStyle.width = originStyle.width;\n        container.value.style.width = \"calc(\".concat(container.value.style.width || \"100%\", \" - \").concat(containerScrollBarWidth, \"px)\");\n      }\n      originContainerStyle.overflow = originStyle.overflow;\n      container.value.style.overflow = \"hidden\";\n    }\n  };\n  var resetContainerStyle = function resetContainerStyle() {\n    if (container.value && needResetContainerStyle) {\n      var originStyle = originContainerStyle;\n      Object.keys(originStyle).forEach(function (i) {\n        container.value.style[i] = originStyle[i];\n      });\n    }\n    needResetContainerStyle = false;\n    originContainerStyle = {};\n  };\n  watchEffect(function (onInvalidate) {\n    hidden.value ? setContainerStyle() : resetContainerStyle();\n    onInvalidate(function () {\n      resetContainerStyle();\n    });\n  });\n  return [resetContainerStyle, setContainerStyle];\n}\nexport { usePopupOverflowHidden as default };","map":{"version":3,"names":["toRefs","watchEffect","usePopupOverflowHidden","props","_toRefs","container","hidden","needResetContainerStyle","originContainerStyle","getScrollBarWidth","element","tagName","window","innerWidth","document","body","clientWidth","documentElement","offsetWidth","setContainerStyle","value","style","overflow","originStyle","containerScrollBarWidth","width","concat","resetContainerStyle","Object","keys","forEach","i","onInvalidate","default"],"sources":["/root/FrontPlatform/vue-front/node_modules/@arco-design/web-vue/es/_hooks/use-popup-overflow-hidden.js"],"sourcesContent":["import { toRefs, watchEffect } from \"vue\";\nfunction usePopupOverflowHidden(props) {\n  const { container, hidden } = toRefs(props);\n  let needResetContainerStyle = false;\n  let originContainerStyle = {};\n  const getScrollBarWidth = (element) => {\n    return element.tagName === \"BODY\" ? window.innerWidth - (document.body.clientWidth || document.documentElement.clientWidth) : element.offsetWidth - element.clientWidth;\n  };\n  const setContainerStyle = () => {\n    if (container.value && container.value.style.overflow !== \"hidden\") {\n      const originStyle = container.value.style;\n      needResetContainerStyle = true;\n      const containerScrollBarWidth = getScrollBarWidth(container.value);\n      if (containerScrollBarWidth) {\n        originContainerStyle.width = originStyle.width;\n        container.value.style.width = `calc(${container.value.style.width || \"100%\"} - ${containerScrollBarWidth}px)`;\n      }\n      originContainerStyle.overflow = originStyle.overflow;\n      container.value.style.overflow = \"hidden\";\n    }\n  };\n  const resetContainerStyle = () => {\n    if (container.value && needResetContainerStyle) {\n      const originStyle = originContainerStyle;\n      Object.keys(originStyle).forEach((i) => {\n        container.value.style[i] = originStyle[i];\n      });\n    }\n    needResetContainerStyle = false;\n    originContainerStyle = {};\n  };\n  watchEffect((onInvalidate) => {\n    hidden.value ? setContainerStyle() : resetContainerStyle();\n    onInvalidate(() => {\n      resetContainerStyle();\n    });\n  });\n  return [resetContainerStyle, setContainerStyle];\n}\nexport { usePopupOverflowHidden as default };\n"],"mappings":";;;;;AAAA,SAASA,MAAM,EAAEC,WAAW,QAAQ,KAAK;AACzC,SAASC,sBAAsBA,CAACC,KAAK,EAAE;EACrC,IAAAC,OAAA,GAA8BJ,MAAM,CAACG,KAAK,CAAC;IAAnCE,SAAS,GAAAD,OAAA,CAATC,SAAS;IAAEC,MAAM,GAAAF,OAAA,CAANE,MAAM;EACzB,IAAIC,uBAAuB,GAAG,KAAK;EACnC,IAAIC,oBAAoB,GAAG,CAAC,CAAC;EAC7B,IAAMC,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAIC,OAAO,EAAK;IACrC,OAAOA,OAAO,CAACC,OAAO,KAAK,MAAM,GAAGC,MAAM,CAACC,UAAU,IAAIC,QAAQ,CAACC,IAAI,CAACC,WAAW,IAAIF,QAAQ,CAACG,eAAe,CAACD,WAAW,CAAC,GAAGN,OAAO,CAACQ,WAAW,GAAGR,OAAO,CAACM,WAAW;EACzK,CAAC;EACD,IAAMG,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAA,EAAS;IAC9B,IAAId,SAAS,CAACe,KAAK,IAAIf,SAAS,CAACe,KAAK,CAACC,KAAK,CAACC,QAAQ,KAAK,QAAQ,EAAE;MAClE,IAAMC,WAAW,GAAGlB,SAAS,CAACe,KAAK,CAACC,KAAK;MACzCd,uBAAuB,GAAG,IAAI;MAC9B,IAAMiB,uBAAuB,GAAGf,iBAAiB,CAACJ,SAAS,CAACe,KAAK,CAAC;MAClE,IAAII,uBAAuB,EAAE;QAC3BhB,oBAAoB,CAACiB,KAAK,GAAGF,WAAW,CAACE,KAAK;QAC9CpB,SAAS,CAACe,KAAK,CAACC,KAAK,CAACI,KAAK,WAAAC,MAAA,CAAWrB,SAAS,CAACe,KAAK,CAACC,KAAK,CAACI,KAAK,IAAI,MAAM,SAAAC,MAAA,CAAMF,uBAAuB,QAAK;MAC/G;MACAhB,oBAAoB,CAACc,QAAQ,GAAGC,WAAW,CAACD,QAAQ;MACpDjB,SAAS,CAACe,KAAK,CAACC,KAAK,CAACC,QAAQ,GAAG,QAAQ;IAC3C;EACF,CAAC;EACD,IAAMK,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAA,EAAS;IAChC,IAAItB,SAAS,CAACe,KAAK,IAAIb,uBAAuB,EAAE;MAC9C,IAAMgB,WAAW,GAAGf,oBAAoB;MACxCoB,MAAM,CAACC,IAAI,CAACN,WAAW,CAAC,CAACO,OAAO,CAAC,UAACC,CAAC,EAAK;QACtC1B,SAAS,CAACe,KAAK,CAACC,KAAK,CAACU,CAAC,CAAC,GAAGR,WAAW,CAACQ,CAAC,CAAC;MAC3C,CAAC,CAAC;IACJ;IACAxB,uBAAuB,GAAG,KAAK;IAC/BC,oBAAoB,GAAG,CAAC,CAAC;EAC3B,CAAC;EACDP,WAAW,CAAC,UAAC+B,YAAY,EAAK;IAC5B1B,MAAM,CAACc,KAAK,GAAGD,iBAAiB,EAAE,GAAGQ,mBAAmB,EAAE;IAC1DK,YAAY,CAAC,YAAM;MACjBL,mBAAmB,EAAE;IACvB,CAAC,CAAC;EACJ,CAAC,CAAC;EACF,OAAO,CAACA,mBAAmB,EAAER,iBAAiB,CAAC;AACjD;AACA,SAASjB,sBAAsB,IAAI+B,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}
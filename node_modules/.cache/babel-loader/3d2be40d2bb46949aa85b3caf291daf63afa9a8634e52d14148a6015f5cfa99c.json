{"ast":null,"code":"import \"core-js/modules/web.timers.js\";\nimport apiRequest from \"../../api/networkRequest\";\nimport apiPath from \"../../api/networkPath\";\nexport default {\n  name: 'HomePage',\n  data: function data() {\n    return {\n      Imagepath: \"\",\n      username: \"\",\n      password: \"\",\n      verificationCode: \"\",\n      verificationCodeId: \"\",\n      isbackground: true,\n      eshow: false\n    };\n  },\n  computed: {\n    // ...mapGetters[\"getVcodePath\", \"getUserName\", \"getPassWord\", \"getVerificationCode\", \"getVerificationCodeId\", \"getLoginStatus\",\"getErrMsg\"],\n  },\n  methods: {\n    // ...mapMutations[\"setVcodePath\", \"setUserName\", \"setPassWord\", \"setVerificationCode\", \"setVerificationCodeId\", \"setLoginStatus\",\"setErrMsg\"],\n    GetImage: function GetImage() {\n      var _this = this;\n      apiRequest.getVerificationCode().then(function (res) {\n        _this.$store.commit(\"setVcodePath\", apiPath.baseUrl + res.data.msg);\n        console.log(res.data.msg.split(\"/\")[2].split('.')[0]);\n        _this.$store.commit(\"setVerificationCodeId\", res.data.msg.split(\"/\")[2].split('.')[0]);\n      });\n    },\n    Login: function Login() {\n      var _this2 = this;\n      apiRequest.login(this.username, this.password, this.verificationCode, this.$store.getters.getVerificationCodeId).then(function (res) {\n        console.log(res.data);\n        if (res.data.success) {\n          _this2.$store.commit(\"setLoginStatus\", true);\n          _this2.$router.go(-1);\n          // return true\n        } else {\n          //    return false\n          console.log(\"shibai\", res.data.msg);\n          _this2.$store.commit(\"setErrMsg\", res.data.msg);\n          _this2.username = \"\";\n          _this2.password = \"\";\n          _this2.verificationCode = \"\";\n          _this2.GetImage();\n          _this2.ErrorShow();\n        }\n      });\n      // if (this.$store.getters.getLoginStatus){\n      //     this.username = \"\"\n      //     this.password = \"\"\n      //     this.verificationCode = \"\"\n      //     this.GetImage()\n      //     this.ErrorShow()\n      // }\n    },\n    ErrorShow: function ErrorShow() {\n      var _this3 = this;\n      this.eshow = true;\n      this.isbackground = true;\n      setTimeout(function () {\n        _this3.eshow = false;\n        _this3.isbackground = false;\n      }, 3000);\n    }\n  },\n  created: function created() {},\n  mounted: function mounted() {\n    var _this4 = this;\n    apiRequest.getVerificationCode().then(function (res) {\n      // console.log(apiPath.baseUrl + res.data.msg)\n      // console.log(res.data.msg.split(\"/\")[2])\n      _this4.$store.commit(\"setVcodePath\", apiPath.baseUrl + res.data.msg);\n      // this.$store.setVcodePath(apiPath.baseUrl + res.data.msg)\n      setTimeout(function () {}, 3000);\n      // console.log(this.$store.get('vCodepath'))\n      // console.log(this.getVcodePath)\n      _this4.$store.commit(\"setVerificationCodeId\", res.data.msg.split(\"/\")[2].split('.')[0]);\n      // console.log(this.$store.getters.getVerificationCodeId)\n    });\n  }\n};","map":{"version":3,"names":["apiRequest","apiPath","name","data","Imagepath","username","password","verificationCode","verificationCodeId","isbackground","eshow","computed","methods","GetImage","_this","getVerificationCode","then","res","$store","commit","baseUrl","msg","console","log","split","Login","_this2","login","getters","getVerificationCodeId","success","$router","go","ErrorShow","_this3","setTimeout","created","mounted","_this4"],"sources":["/root/FrontPlatform/vue-front/src/views/frontend/LoginView.vue"],"sourcesContent":["<template>\n    <div class=\"container\">\n        <div class=\"login-wrapper\">\n            <div class=\"header\">自由者平台</div>\n            <div class=\"ishow\" v-show=\"eshow\">\n                <a-col :span=\"22\">\n                    <a-alert type=\"error\" closable>\n                        <template #title>\n                            {{ this.$store.getters.getErrMsg n}}\n                        </template>\n                    </a-alert>\n                </a-col>\n            </div>\n            <div :class=\"{'isbackground':isbackground}\">\n                <div class=\"form-wrapper\">\n                <input type=\"text\" v-model=\"username\" id=\"username\" placeholder=\"username\" class=\"input-item\">\n                <input type=\"password\" v-model=\"password\" id=\"password\" placeholder=\"password\" class=\"input-item\">\n                <input type=\"text\" v-model=\"verificationCode\" id=\"verificationCode\" placeholder=\"verification code\"\n                    class=\"input-item\">\n                <img @click=\"GetImage\" :src=\"$store.getters.getVcodePath\" />\n                <div class=\"btn\" type=\"button\" @click=\"Login\">Login</div>\n            </div>\n            </div>\n            <div class=\"msg\">\n                Don't have account?\n                <a href=\"#\">Sign up</a>\n            </div>\n        </div>\n    </div>\n</template>\n  \n<script>\nimport apiRequest from \"../../api/networkRequest\"\nimport apiPath from \"../../api/networkPath\"\nexport default {\n    name: 'HomePage',\n    data() {\n        return {\n            Imagepath: \"\",\n            username: \"\",\n            password: \"\",\n            verificationCode: \"\",\n            verificationCodeId: \"\",\n            isbackground:true,\n            eshow:false,\n\n        }\n    },\n    computed: {\n        // ...mapGetters[\"getVcodePath\", \"getUserName\", \"getPassWord\", \"getVerificationCode\", \"getVerificationCodeId\", \"getLoginStatus\",\"getErrMsg\"],\n    },\n    methods: {\n        // ...mapMutations[\"setVcodePath\", \"setUserName\", \"setPassWord\", \"setVerificationCode\", \"setVerificationCodeId\", \"setLoginStatus\",\"setErrMsg\"],\n        GetImage() {\n            apiRequest.getVerificationCode().then(res => {\n                this.$store.commit(\"setVcodePath\", apiPath.baseUrl + res.data.msg);\n                console.log(res.data.msg.split(\"/\")[2].split('.')[0])\n                this.$store.commit(\"setVerificationCodeId\", res.data.msg.split(\"/\")[2].split('.')[0]);\n            })\n        },\n        Login() {\n            apiRequest.login(this.username, this.password, this.verificationCode, this.$store.getters.getVerificationCodeId).then(res =>{\n            console.log(res.data)\n            if (res.data.success) {\n                this.$store.commit(\"setLoginStatus\",true);\n                this.$router.go(-1)\n                // return true\n            }else {\n            //    return false\n                console.log(\"shibai\",res.data.msg)\n                this.$store.commit(\"setErrMsg\",res.data.msg)\n                this.username = \"\"\n                this.password = \"\"\n                this.verificationCode = \"\"\n                this.GetImage()\n                this.ErrorShow()\n            }\n        })\n            // if (this.$store.getters.getLoginStatus){\n            //     this.username = \"\"\n            //     this.password = \"\"\n            //     this.verificationCode = \"\"\n            //     this.GetImage()\n            //     this.ErrorShow()\n            // }\n        },\n        ErrorShow(){\n            this.eshow = true\n            this.isbackground = true\n            setTimeout(() => {\n                this.eshow = false\n                this.isbackground = false\n            }, 3000);\n        }\n    },\n    created() {\n       \n    },\n    mounted() {\n\n        apiRequest.getVerificationCode().then(res => {\n            // console.log(apiPath.baseUrl + res.data.msg)\n            // console.log(res.data.msg.split(\"/\")[2])\n            this.$store.commit(\"setVcodePath\", apiPath.baseUrl + res.data.msg);\n            // this.$store.setVcodePath(apiPath.baseUrl + res.data.msg)\n            setTimeout(() => {\n            }, 3000);\n            // console.log(this.$store.get('vCodepath'))\n            // console.log(this.getVcodePath)\n            this.$store.commit(\"setVerificationCodeId\", res.data.msg.split(\"/\")[2].split('.')[0]);\n            // console.log(this.$store.getters.getVerificationCodeId)\n        })\n    }\n}\n</script>\n  \n<style>\n* {\n    margin: 0;\n    padding: 0;\n}\n\n/* html {\n   height: 100%;\n  }\n  body {\n   height: 100%;\n  } */\n.container {\n    height: 100%;\n    background-image: linear-gradient(to right, #fbc2eb, #a6c1ee);\n}\n\n.login-wrapper {\n    background-color: #fff;\n    width: 358px;\n    height: 588px;\n    border-radius: 15px;\n    padding: 0 50px;\n    position: relative;\n    left: 33.3%;\n    top: 50%;\n    /* transform: translate(-50%, -50%); */\n}\n\n.header {\n    font-size: 38px;\n    font-weight: bold;\n    text-align: center;\n    line-height: 200px;\n}\n\n.input-item {\n    display: block;\n    width: 100%;\n    margin-bottom: 20px;\n    border: 0;\n    padding: 10px;\n    border-bottom: 1px solid rgb(128, 125, 125);\n    font-size: 15px;\n    outline: none;\n}\n\n.input-item:placeholder {\n    text-transform: uppercase;\n}\n\n.btn {\n    text-align: center;\n    padding: 10px;\n    width: 100%;\n    margin-top: 40px;\n    background-image: linear-gradient(to right, #a6c1ee, #fbc2eb);\n    color: #fff;\n}\n\n.msg {\n    text-align: center;\n    line-height: 88px;\n}\n\n.isbackground{\n    z-index:-1;\n}\n\n.ishow{\n    z-index: 1;\n    width:412px;\n    position: absolute;\n}   \n\na {\n    text-decoration-line: none;\n    color: #abc1ee;\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
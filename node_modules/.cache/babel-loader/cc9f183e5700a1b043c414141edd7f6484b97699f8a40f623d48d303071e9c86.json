{"ast":null,"code":"import \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.last-index-of.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nvar getTextBeforeSelection = function getTextBeforeSelection(element) {\n  var value = element.value,\n    selectionStart = element.selectionStart;\n  return value.slice(0, selectionStart);\n};\nvar getLastMeasureIndex = function getLastMeasureIndex(text, prefix) {\n  var _prefix = [].concat(prefix);\n  return _prefix.reduce(function (pre, value) {\n    var lastIndex = text.lastIndexOf(value);\n    if (lastIndex > pre.location) {\n      return {\n        location: lastIndex,\n        prefix: value\n      };\n    }\n    return pre;\n  }, {\n    location: -1,\n    prefix: \"\"\n  });\n};\nvar isValidSearch = function isValidSearch(text, split) {\n  return !split || !text.includes(split);\n};\nexport { getLastMeasureIndex, getTextBeforeSelection, isValidSearch };","map":{"version":3,"names":["getTextBeforeSelection","element","value","selectionStart","slice","getLastMeasureIndex","text","prefix","_prefix","concat","reduce","pre","lastIndex","lastIndexOf","location","isValidSearch","split","includes"],"sources":["/root/FrontPlatform/vue-front/node_modules/@arco-design/web-vue/es/mention/utils.js"],"sourcesContent":["const getTextBeforeSelection = (element) => {\n  const { value, selectionStart } = element;\n  return value.slice(0, selectionStart);\n};\nconst getLastMeasureIndex = (text, prefix) => {\n  const _prefix = [].concat(prefix);\n  return _prefix.reduce((pre, value) => {\n    const lastIndex = text.lastIndexOf(value);\n    if (lastIndex > pre.location) {\n      return {\n        location: lastIndex,\n        prefix: value\n      };\n    }\n    return pre;\n  }, {\n    location: -1,\n    prefix: \"\"\n  });\n};\nconst isValidSearch = (text, split) => {\n  return !split || !text.includes(split);\n};\nexport { getLastMeasureIndex, getTextBeforeSelection, isValidSearch };\n"],"mappings":";;;;;;;AAAA,IAAMA,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAIC,OAAO,EAAK;EAC1C,IAAQC,KAAK,GAAqBD,OAAO,CAAjCC,KAAK;IAAEC,cAAc,GAAKF,OAAO,CAA1BE,cAAc;EAC7B,OAAOD,KAAK,CAACE,KAAK,CAAC,CAAC,EAAED,cAAc,CAAC;AACvC,CAAC;AACD,IAAME,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAIC,IAAI,EAAEC,MAAM,EAAK;EAC5C,IAAMC,OAAO,GAAG,EAAE,CAACC,MAAM,CAACF,MAAM,CAAC;EACjC,OAAOC,OAAO,CAACE,MAAM,CAAC,UAACC,GAAG,EAAET,KAAK,EAAK;IACpC,IAAMU,SAAS,GAAGN,IAAI,CAACO,WAAW,CAACX,KAAK,CAAC;IACzC,IAAIU,SAAS,GAAGD,GAAG,CAACG,QAAQ,EAAE;MAC5B,OAAO;QACLA,QAAQ,EAAEF,SAAS;QACnBL,MAAM,EAAEL;MACV,CAAC;IACH;IACA,OAAOS,GAAG;EACZ,CAAC,EAAE;IACDG,QAAQ,EAAE,CAAC,CAAC;IACZP,MAAM,EAAE;EACV,CAAC,CAAC;AACJ,CAAC;AACD,IAAMQ,aAAa,GAAG,SAAhBA,aAAaA,CAAIT,IAAI,EAAEU,KAAK,EAAK;EACrC,OAAO,CAACA,KAAK,IAAI,CAACV,IAAI,CAACW,QAAQ,CAACD,KAAK,CAAC;AACxC,CAAC;AACD,SAASX,mBAAmB,EAAEL,sBAAsB,EAAEe,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}
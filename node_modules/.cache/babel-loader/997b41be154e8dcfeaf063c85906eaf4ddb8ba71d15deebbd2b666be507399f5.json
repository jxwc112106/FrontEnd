{"ast":null,"code":"import \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.match.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport { createApp, createVNode } from \"vue\";\nvar ellipsisContainer;\nfunction styleToString(style) {\n  var styleNames = Array.prototype.slice.apply(style);\n  return styleNames.map(function (name) {\n    return \"\".concat(name, \": \").concat(style.getPropertyValue(name), \";\");\n  }).join(\"\");\n}\nfunction pxToNumber(value) {\n  if (!value) return 0;\n  var match = value.match(/^\\d*(\\.\\d*)?/);\n  return match ? Number(match[0]) : 0;\n}\nvar measure = function measure(originElement, ellipsisConfig, operations, fullText) {\n  if (!ellipsisContainer) {\n    ellipsisContainer = document.createElement(\"div\");\n    document.body.appendChild(ellipsisContainer);\n  }\n  var rows = ellipsisConfig.rows,\n    suffix = ellipsisConfig.suffix,\n    ellipsisStr = ellipsisConfig.ellipsisStr;\n  var originStyle = window.getComputedStyle(originElement);\n  var styleString = styleToString(originStyle);\n  var lineHeight = pxToNumber(originStyle.lineHeight);\n  var maxHeight = Math.round(lineHeight * rows + pxToNumber(originStyle.paddingTop) + pxToNumber(originStyle.paddingBottom));\n  ellipsisContainer.setAttribute(\"style\", styleString);\n  ellipsisContainer.setAttribute(\"aria-hidden\", \"true\");\n  ellipsisContainer.style.height = \"auto\";\n  ellipsisContainer.style.minHeight = \"auto\";\n  ellipsisContainer.style.maxHeight = \"auto\";\n  ellipsisContainer.style.position = \"fixed\";\n  ellipsisContainer.style.left = \"0\";\n  ellipsisContainer.style.top = \"-99999999px\";\n  ellipsisContainer.style.zIndex = \"-200\";\n  ellipsisContainer.style.whiteSpace = \"normal\";\n  var vm = createApp({\n    render: function render() {\n      return createVNode(\"span\", null, [operations]);\n    }\n  });\n  vm.mount(ellipsisContainer);\n  var operationsChildNodes = Array.prototype.slice.apply(ellipsisContainer.childNodes[0].cloneNode(true).childNodes);\n  vm.unmount();\n  ellipsisContainer.innerHTML = \"\";\n  var ellipsisTextNode = document.createTextNode(\"\".concat(ellipsisStr).concat(suffix));\n  ellipsisContainer.appendChild(ellipsisTextNode);\n  operationsChildNodes.forEach(function (operationNode) {\n    ellipsisContainer.appendChild(operationNode);\n  });\n  var textNode = document.createTextNode(fullText);\n  ellipsisContainer.insertBefore(textNode, ellipsisTextNode);\n  function inRange() {\n    return ellipsisContainer.offsetHeight <= maxHeight;\n  }\n  if (inRange()) {\n    return {\n      ellipsis: false,\n      text: fullText\n    };\n  }\n  function measureText(textNode2) {\n    var startLoc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var endLoc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : fullText.length;\n    var lastSuccessLoc = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    var midLoc = Math.floor((startLoc + endLoc) / 2);\n    var currentText = fullText.slice(0, midLoc);\n    textNode2.textContent = currentText;\n    if (startLoc >= endLoc - 1) {\n      for (var step = endLoc; step >= startLoc; step -= 1) {\n        var currentStepText = fullText.slice(0, step);\n        textNode2.textContent = currentStepText;\n        if (inRange() || !currentStepText) {\n          return;\n        }\n      }\n    }\n    if (inRange()) {\n      measureText(textNode2, midLoc, endLoc, midLoc);\n    } else {\n      measureText(textNode2, startLoc, midLoc, lastSuccessLoc);\n    }\n  }\n  measureText(textNode);\n  return {\n    text: textNode.textContent,\n    ellipsis: true\n  };\n};\nexport { measure as default };","map":{"version":3,"names":["createApp","createVNode","ellipsisContainer","styleToString","style","styleNames","Array","prototype","slice","apply","map","name","concat","getPropertyValue","join","pxToNumber","value","match","Number","measure","originElement","ellipsisConfig","operations","fullText","document","createElement","body","appendChild","rows","suffix","ellipsisStr","originStyle","window","getComputedStyle","styleString","lineHeight","maxHeight","Math","round","paddingTop","paddingBottom","setAttribute","height","minHeight","position","left","top","zIndex","whiteSpace","vm","render","mount","operationsChildNodes","childNodes","cloneNode","unmount","innerHTML","ellipsisTextNode","createTextNode","forEach","operationNode","textNode","insertBefore","inRange","offsetHeight","ellipsis","text","measureText","textNode2","startLoc","arguments","length","undefined","endLoc","lastSuccessLoc","midLoc","floor","currentText","textContent","step","currentStepText","default"],"sources":["/root/FrontPlatform/vue-front/node_modules/@arco-design/web-vue/es/typography/utils/measure.js"],"sourcesContent":["import { createApp, createVNode } from \"vue\";\nlet ellipsisContainer;\nfunction styleToString(style) {\n  const styleNames = Array.prototype.slice.apply(style);\n  return styleNames.map((name) => `${name}: ${style.getPropertyValue(name)};`).join(\"\");\n}\nfunction pxToNumber(value) {\n  if (!value)\n    return 0;\n  const match = value.match(/^\\d*(\\.\\d*)?/);\n  return match ? Number(match[0]) : 0;\n}\nvar measure = (originElement, ellipsisConfig, operations, fullText) => {\n  if (!ellipsisContainer) {\n    ellipsisContainer = document.createElement(\"div\");\n    document.body.appendChild(ellipsisContainer);\n  }\n  const {\n    rows,\n    suffix,\n    ellipsisStr\n  } = ellipsisConfig;\n  const originStyle = window.getComputedStyle(originElement);\n  const styleString = styleToString(originStyle);\n  const lineHeight = pxToNumber(originStyle.lineHeight);\n  const maxHeight = Math.round(lineHeight * rows + pxToNumber(originStyle.paddingTop) + pxToNumber(originStyle.paddingBottom));\n  ellipsisContainer.setAttribute(\"style\", styleString);\n  ellipsisContainer.setAttribute(\"aria-hidden\", \"true\");\n  ellipsisContainer.style.height = \"auto\";\n  ellipsisContainer.style.minHeight = \"auto\";\n  ellipsisContainer.style.maxHeight = \"auto\";\n  ellipsisContainer.style.position = \"fixed\";\n  ellipsisContainer.style.left = \"0\";\n  ellipsisContainer.style.top = \"-99999999px\";\n  ellipsisContainer.style.zIndex = \"-200\";\n  ellipsisContainer.style.whiteSpace = \"normal\";\n  const vm = createApp({\n    render() {\n      return createVNode(\"span\", null, [operations]);\n    }\n  });\n  vm.mount(ellipsisContainer);\n  const operationsChildNodes = Array.prototype.slice.apply(ellipsisContainer.childNodes[0].cloneNode(true).childNodes);\n  vm.unmount();\n  ellipsisContainer.innerHTML = \"\";\n  const ellipsisTextNode = document.createTextNode(`${ellipsisStr}${suffix}`);\n  ellipsisContainer.appendChild(ellipsisTextNode);\n  operationsChildNodes.forEach((operationNode) => {\n    ellipsisContainer.appendChild(operationNode);\n  });\n  const textNode = document.createTextNode(fullText);\n  ellipsisContainer.insertBefore(textNode, ellipsisTextNode);\n  function inRange() {\n    return ellipsisContainer.offsetHeight <= maxHeight;\n  }\n  if (inRange()) {\n    return {\n      ellipsis: false,\n      text: fullText\n    };\n  }\n  function measureText(textNode2, startLoc = 0, endLoc = fullText.length, lastSuccessLoc = 0) {\n    const midLoc = Math.floor((startLoc + endLoc) / 2);\n    const currentText = fullText.slice(0, midLoc);\n    textNode2.textContent = currentText;\n    if (startLoc >= endLoc - 1) {\n      for (let step = endLoc; step >= startLoc; step -= 1) {\n        const currentStepText = fullText.slice(0, step);\n        textNode2.textContent = currentStepText;\n        if (inRange() || !currentStepText) {\n          return;\n        }\n      }\n    }\n    if (inRange()) {\n      measureText(textNode2, midLoc, endLoc, midLoc);\n    } else {\n      measureText(textNode2, startLoc, midLoc, lastSuccessLoc);\n    }\n  }\n  measureText(textNode);\n  return {\n    text: textNode.textContent,\n    ellipsis: true\n  };\n};\nexport { measure as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
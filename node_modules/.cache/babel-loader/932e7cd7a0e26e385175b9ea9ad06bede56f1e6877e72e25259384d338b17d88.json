{"ast":null,"code":"import _createForOfIteratorHelper from \"/root/FrontPlatform/vue-front/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport { ref, reactive, inject, computed } from \"vue\";\nimport { isString } from \"../_utils/is.js\";\nimport { configProviderInjectionKey } from \"../config-provider/context.js\";\nimport lang from \"./lang/zh-cn.js\";\nvar LOCALE = ref(\"zh-CN\");\nvar I18N_MESSAGES = reactive({\n  \"zh-CN\": lang\n});\nvar addI18nMessages = function addI18nMessages(messages, options) {\n  for (var _i = 0, _Object$keys = Object.keys(messages); _i < _Object$keys.length; _i++) {\n    var key = _Object$keys[_i];\n    if (!I18N_MESSAGES[key] || (options == null ? void 0 : options.overwrite)) {\n      I18N_MESSAGES[key] = messages[key];\n    }\n  }\n};\nvar useLocale = function useLocale(locale) {\n  if (!I18N_MESSAGES[locale]) {\n    console.warn(\"use \".concat(locale, \" failed! Please add \").concat(locale, \" first\"));\n    return;\n  }\n  LOCALE.value = locale;\n};\nvar getLocale = function getLocale() {\n  return LOCALE.value;\n};\nvar useI18n = function useI18n() {\n  var configProvider = inject(configProviderInjectionKey, void 0);\n  var i18nMessage = computed(function () {\n    var _a;\n    return (_a = configProvider == null ? void 0 : configProvider.locale) != null ? _a : I18N_MESSAGES[LOCALE.value];\n  });\n  var locale = computed(function () {\n    return i18nMessage.value.locale;\n  });\n  var transform = function transform(key) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    var keyArray = key.split(\".\");\n    var temp = i18nMessage.value;\n    var _iterator = _createForOfIteratorHelper(keyArray),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var keyItem = _step.value;\n        if (!temp[keyItem]) {\n          return key;\n        }\n        temp = temp[keyItem];\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    if (isString(temp)) {\n      if (args.length > 0) {\n        return temp.replace(/{(\\d+)}/g, function (sub, index) {\n          var _a;\n          return (_a = args[index]) != null ? _a : sub;\n        });\n      }\n      return temp;\n    }\n    return temp;\n  };\n  return {\n    locale: locale,\n    t: transform\n  };\n};\nexport { addI18nMessages, getLocale, useI18n, useLocale };","map":{"version":3,"names":["ref","reactive","inject","computed","isString","configProviderInjectionKey","lang","LOCALE","I18N_MESSAGES","addI18nMessages","messages","options","_i","_Object$keys","Object","keys","length","key","overwrite","useLocale","locale","console","warn","concat","value","getLocale","useI18n","configProvider","i18nMessage","_a","transform","_len","arguments","args","Array","_key","keyArray","split","temp","_iterator","_createForOfIteratorHelper","_step","s","n","done","keyItem","err","e","f","replace","sub","index","t"],"sources":["/root/FrontPlatform/vue-front/node_modules/@arco-design/web-vue/es/locale/index.js"],"sourcesContent":["import { ref, reactive, inject, computed } from \"vue\";\nimport { isString } from \"../_utils/is.js\";\nimport { configProviderInjectionKey } from \"../config-provider/context.js\";\nimport lang from \"./lang/zh-cn.js\";\nconst LOCALE = ref(\"zh-CN\");\nconst I18N_MESSAGES = reactive({\n  \"zh-CN\": lang\n});\nconst addI18nMessages = (messages, options) => {\n  for (const key of Object.keys(messages)) {\n    if (!I18N_MESSAGES[key] || (options == null ? void 0 : options.overwrite)) {\n      I18N_MESSAGES[key] = messages[key];\n    }\n  }\n};\nconst useLocale = (locale) => {\n  if (!I18N_MESSAGES[locale]) {\n    console.warn(`use ${locale} failed! Please add ${locale} first`);\n    return;\n  }\n  LOCALE.value = locale;\n};\nconst getLocale = () => {\n  return LOCALE.value;\n};\nconst useI18n = () => {\n  const configProvider = inject(configProviderInjectionKey, void 0);\n  const i18nMessage = computed(() => {\n    var _a;\n    return (_a = configProvider == null ? void 0 : configProvider.locale) != null ? _a : I18N_MESSAGES[LOCALE.value];\n  });\n  const locale = computed(() => i18nMessage.value.locale);\n  const transform = (key, ...args) => {\n    const keyArray = key.split(\".\");\n    let temp = i18nMessage.value;\n    for (const keyItem of keyArray) {\n      if (!temp[keyItem]) {\n        return key;\n      }\n      temp = temp[keyItem];\n    }\n    if (isString(temp)) {\n      if (args.length > 0) {\n        return temp.replace(/{(\\d+)}/g, (sub, index) => {\n          var _a;\n          return (_a = args[index]) != null ? _a : sub;\n        });\n      }\n      return temp;\n    }\n    return temp;\n  };\n  return {\n    locale,\n    t: transform\n  };\n};\nexport { addI18nMessages, getLocale, useI18n, useLocale };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import _toConsumableArray from \"/root/FrontPlatform/vue-front/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport { ref, computed } from \"vue\";\nvar useExpand = function useExpand(_ref) {\n  var expandedKeys = _ref.expandedKeys,\n    defaultExpandedKeys = _ref.defaultExpandedKeys,\n    defaultExpandAllRows = _ref.defaultExpandAllRows,\n    expandable = _ref.expandable,\n    allRowKeys = _ref.allRowKeys,\n    emit = _ref.emit;\n  var getDefaultExpandedRowKeys = function getDefaultExpandedRowKeys() {\n    var _a, _b;\n    if (defaultExpandedKeys.value) {\n      return defaultExpandedKeys.value;\n    }\n    if ((_a = expandable.value) == null ? void 0 : _a.defaultExpandedRowKeys) {\n      return expandable.value.defaultExpandedRowKeys;\n    }\n    if (defaultExpandAllRows.value || ((_b = expandable.value) == null ? void 0 : _b.defaultExpandAllRows)) {\n      return _toConsumableArray(allRowKeys.value);\n    }\n    return [];\n  };\n  var _expandedRowKeys = ref(getDefaultExpandedRowKeys());\n  var expandedRowKeys = computed(function () {\n    var _a, _b, _c;\n    return (_c = (_b = expandedKeys.value) != null ? _b : (_a = expandable.value) == null ? void 0 : _a.expandedRowKeys) != null ? _c : _expandedRowKeys.value;\n  });\n  var handleExpand = function handleExpand(rowKey, record) {\n    var isExpanded = expandedRowKeys.value.includes(rowKey);\n    var newExpandedRowKeys = isExpanded ? expandedRowKeys.value.filter(function (key) {\n      return rowKey !== key;\n    }) : expandedRowKeys.value.concat(rowKey);\n    _expandedRowKeys.value = newExpandedRowKeys;\n    emit(\"expand\", rowKey, record);\n    emit(\"expandedChange\", newExpandedRowKeys);\n    emit(\"update:expandedKeys\", newExpandedRowKeys);\n  };\n  var expand = function expand(rowKey) {\n    var expanded = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var _rowKeys = [].concat(rowKey);\n    var newExpandedRowKeys = expanded ? expandedRowKeys.value.concat(_rowKeys) : expandedRowKeys.value.filter(function (key) {\n      return !_rowKeys.includes(key);\n    });\n    _expandedRowKeys.value = newExpandedRowKeys;\n    emit(\"expandedChange\", newExpandedRowKeys);\n    emit(\"update:expandedKeys\", newExpandedRowKeys);\n  };\n  var expandAll = function expandAll() {\n    var expanded = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    var newExpandedRowKeys = expanded ? _toConsumableArray(allRowKeys.value) : [];\n    _expandedRowKeys.value = newExpandedRowKeys;\n    emit(\"expandedChange\", newExpandedRowKeys);\n    emit(\"update:expandedKeys\", newExpandedRowKeys);\n  };\n  return {\n    expandedRowKeys: expandedRowKeys,\n    handleExpand: handleExpand,\n    expand: expand,\n    expandAll: expandAll\n  };\n};\nexport { useExpand };","map":{"version":3,"names":["ref","computed","useExpand","_ref","expandedKeys","defaultExpandedKeys","defaultExpandAllRows","expandable","allRowKeys","emit","getDefaultExpandedRowKeys","_a","_b","value","defaultExpandedRowKeys","_toConsumableArray","_expandedRowKeys","expandedRowKeys","_c","handleExpand","rowKey","record","isExpanded","includes","newExpandedRowKeys","filter","key","concat","expand","expanded","arguments","length","undefined","_rowKeys","expandAll"],"sources":["/root/FrontPlatform/vue-front/node_modules/@arco-design/web-vue/es/table/hooks/use-expand.js"],"sourcesContent":["import { ref, computed } from \"vue\";\nconst useExpand = ({\n  expandedKeys,\n  defaultExpandedKeys,\n  defaultExpandAllRows,\n  expandable,\n  allRowKeys,\n  emit\n}) => {\n  const getDefaultExpandedRowKeys = () => {\n    var _a, _b;\n    if (defaultExpandedKeys.value) {\n      return defaultExpandedKeys.value;\n    }\n    if ((_a = expandable.value) == null ? void 0 : _a.defaultExpandedRowKeys) {\n      return expandable.value.defaultExpandedRowKeys;\n    }\n    if (defaultExpandAllRows.value || ((_b = expandable.value) == null ? void 0 : _b.defaultExpandAllRows)) {\n      return [...allRowKeys.value];\n    }\n    return [];\n  };\n  const _expandedRowKeys = ref(getDefaultExpandedRowKeys());\n  const expandedRowKeys = computed(() => {\n    var _a, _b, _c;\n    return (_c = (_b = expandedKeys.value) != null ? _b : (_a = expandable.value) == null ? void 0 : _a.expandedRowKeys) != null ? _c : _expandedRowKeys.value;\n  });\n  const handleExpand = (rowKey, record) => {\n    const isExpanded = expandedRowKeys.value.includes(rowKey);\n    const newExpandedRowKeys = isExpanded ? expandedRowKeys.value.filter((key) => rowKey !== key) : expandedRowKeys.value.concat(rowKey);\n    _expandedRowKeys.value = newExpandedRowKeys;\n    emit(\"expand\", rowKey, record);\n    emit(\"expandedChange\", newExpandedRowKeys);\n    emit(\"update:expandedKeys\", newExpandedRowKeys);\n  };\n  const expand = (rowKey, expanded = true) => {\n    const _rowKeys = [].concat(rowKey);\n    const newExpandedRowKeys = expanded ? expandedRowKeys.value.concat(_rowKeys) : expandedRowKeys.value.filter((key) => !_rowKeys.includes(key));\n    _expandedRowKeys.value = newExpandedRowKeys;\n    emit(\"expandedChange\", newExpandedRowKeys);\n    emit(\"update:expandedKeys\", newExpandedRowKeys);\n  };\n  const expandAll = (expanded = true) => {\n    const newExpandedRowKeys = expanded ? [...allRowKeys.value] : [];\n    _expandedRowKeys.value = newExpandedRowKeys;\n    emit(\"expandedChange\", newExpandedRowKeys);\n    emit(\"update:expandedKeys\", newExpandedRowKeys);\n  };\n  return {\n    expandedRowKeys,\n    handleExpand,\n    expand,\n    expandAll\n  };\n};\nexport { useExpand };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
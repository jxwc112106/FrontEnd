{"ast":null,"code":"import _createForOfIteratorHelper from \"/root/FrontPlatform/vue-front/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport { ref, watch, computed } from \"vue\";\nimport { isEqual } from \"../../_utils/is-equal.js\";\nvar useFilter = function useFilter(_ref) {\n  var columns = _ref.columns,\n    onFilterChange = _ref.onFilterChange;\n  var _filters = ref(getDefaultFilters(columns.value));\n  watch(columns, function (columns2) {\n    var newFilters = getDefaultFilters(columns2);\n    if (!isEqual(newFilters, _filters.value)) {\n      _filters.value = newFilters;\n    }\n  });\n  var computedFilters = computed(function () {\n    var _a, _b;\n    var filters = {};\n    var _iterator = _createForOfIteratorHelper(columns.value),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var item = _step.value;\n        if (item.dataIndex) {\n          var value = (_b = (_a = item.filterable) == null ? void 0 : _a.filteredValue) != null ? _b : _filters.value[item.dataIndex];\n          if (value) {\n            filters[item.dataIndex] = value;\n          }\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    return filters;\n  });\n  var resetFilters = function resetFilters(dataIndex) {\n    var _a;\n    var _dataIndex = dataIndex ? [].concat(dataIndex) : [];\n    var filters = {};\n    var _iterator2 = _createForOfIteratorHelper(columns.value),\n      _step2;\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var item = _step2.value;\n        if (item.dataIndex && item.filterable) {\n          if (_dataIndex.length === 0 || _dataIndex.includes(item.dataIndex)) {\n            var filteredValue = (_a = item.filterable.defaultFilteredValue) != null ? _a : [];\n            filters[item.dataIndex] = filteredValue;\n            onFilterChange(item.dataIndex, filteredValue);\n          }\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n    _filters.value = filters;\n  };\n  var clearFilters = function clearFilters(dataIndex) {\n    var _dataIndex = dataIndex ? [].concat(dataIndex) : [];\n    var filters = {};\n    var _iterator3 = _createForOfIteratorHelper(columns.value),\n      _step3;\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var item = _step3.value;\n        if (item.dataIndex && item.filterable) {\n          if (_dataIndex.length === 0 || _dataIndex.includes(item.dataIndex)) {\n            var filteredValue = [];\n            filters[item.dataIndex] = filteredValue;\n            onFilterChange(item.dataIndex, filteredValue);\n          }\n        }\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n    _filters.value = filters;\n  };\n  return {\n    _filters: _filters,\n    computedFilters: computedFilters,\n    resetFilters: resetFilters,\n    clearFilters: clearFilters\n  };\n};\nvar getDefaultFilters = function getDefaultFilters(columns) {\n  var _a;\n  var filters = {};\n  var _iterator4 = _createForOfIteratorHelper(columns),\n    _step4;\n  try {\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var item = _step4.value;\n      if (item.dataIndex && ((_a = item.filterable) == null ? void 0 : _a.defaultFilteredValue)) {\n        filters[item.dataIndex] = item.filterable.defaultFilteredValue;\n      }\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n  return filters;\n};\nexport { useFilter };","map":{"version":3,"names":["ref","watch","computed","isEqual","useFilter","_ref","columns","onFilterChange","_filters","getDefaultFilters","value","columns2","newFilters","computedFilters","_a","_b","filters","_iterator","_createForOfIteratorHelper","_step","s","n","done","item","dataIndex","filterable","filteredValue","err","e","f","resetFilters","_dataIndex","concat","_iterator2","_step2","length","includes","defaultFilteredValue","clearFilters","_iterator3","_step3","_iterator4","_step4"],"sources":["/root/FrontPlatform/vue-front/node_modules/@arco-design/web-vue/es/table/hooks/use-filter.js"],"sourcesContent":["import { ref, watch, computed } from \"vue\";\nimport { isEqual } from \"../../_utils/is-equal.js\";\nconst useFilter = ({\n  columns,\n  onFilterChange\n}) => {\n  const _filters = ref(getDefaultFilters(columns.value));\n  watch(columns, (columns2) => {\n    const newFilters = getDefaultFilters(columns2);\n    if (!isEqual(newFilters, _filters.value)) {\n      _filters.value = newFilters;\n    }\n  });\n  const computedFilters = computed(() => {\n    var _a, _b;\n    const filters = {};\n    for (const item of columns.value) {\n      if (item.dataIndex) {\n        const value = (_b = (_a = item.filterable) == null ? void 0 : _a.filteredValue) != null ? _b : _filters.value[item.dataIndex];\n        if (value) {\n          filters[item.dataIndex] = value;\n        }\n      }\n    }\n    return filters;\n  });\n  const resetFilters = (dataIndex) => {\n    var _a;\n    const _dataIndex = dataIndex ? [].concat(dataIndex) : [];\n    const filters = {};\n    for (const item of columns.value) {\n      if (item.dataIndex && item.filterable) {\n        if (_dataIndex.length === 0 || _dataIndex.includes(item.dataIndex)) {\n          const filteredValue = (_a = item.filterable.defaultFilteredValue) != null ? _a : [];\n          filters[item.dataIndex] = filteredValue;\n          onFilterChange(item.dataIndex, filteredValue);\n        }\n      }\n    }\n    _filters.value = filters;\n  };\n  const clearFilters = (dataIndex) => {\n    const _dataIndex = dataIndex ? [].concat(dataIndex) : [];\n    const filters = {};\n    for (const item of columns.value) {\n      if (item.dataIndex && item.filterable) {\n        if (_dataIndex.length === 0 || _dataIndex.includes(item.dataIndex)) {\n          const filteredValue = [];\n          filters[item.dataIndex] = filteredValue;\n          onFilterChange(item.dataIndex, filteredValue);\n        }\n      }\n    }\n    _filters.value = filters;\n  };\n  return {\n    _filters,\n    computedFilters,\n    resetFilters,\n    clearFilters\n  };\n};\nconst getDefaultFilters = (columns) => {\n  var _a;\n  const filters = {};\n  for (const item of columns) {\n    if (item.dataIndex && ((_a = item.filterable) == null ? void 0 : _a.defaultFilteredValue)) {\n      filters[item.dataIndex] = item.filterable.defaultFilteredValue;\n    }\n  }\n  return filters;\n};\nexport { useFilter };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
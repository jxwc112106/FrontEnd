{"ast":null,"code":"import _defineProperty from \"/root/FrontPlatform/vue-front/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport { defineComponent, toRefs, computed, resolveComponent, openBlock, createElementBlock, normalizeClass, createBlock, renderSlot, createVNode, createCommentVNode, withDirectives, resolveDynamicComponent, mergeProps, withCtx, createElementVNode, vShow } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport Empty from \"../empty/index.js\";\nimport Spin from \"../spin/index.js\";\nimport Scrollbar from \"../scrollbar/index.js\";\nimport { useComponentRef } from \"../_hooks/use-component-ref.js\";\nimport { useScrollbar } from \"../_hooks/use-scrollbar.js\";\nimport _export_sfc from \"../_virtual/plugin-vue_export-helper.js\";\nvar _sfc_main = defineComponent({\n  name: \"SelectDropdown\",\n  components: {\n    ScrollbarComponent: Scrollbar,\n    Empty: Empty,\n    Spin: Spin\n  },\n  props: {\n    loading: Boolean,\n    empty: Boolean,\n    virtualList: Boolean,\n    bottomOffset: {\n      type: Number,\n      \"default\": 0\n    },\n    scrollbar: {\n      type: [Boolean, Object],\n      \"default\": true\n    },\n    onScroll: {\n      type: [Function, Array]\n    },\n    onReachBottom: {\n      type: [Function, Array]\n    }\n  },\n  emits: [\"scroll\", \"reachBottom\"],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit,\n      slots = _ref.slots;\n    var _toRefs = toRefs(props),\n      scrollbar = _toRefs.scrollbar;\n    var prefixCls = getPrefixCls(\"select-dropdown\");\n    var _useComponentRef = useComponentRef(\"containerRef\"),\n      wrapperComRef = _useComponentRef.componentRef,\n      wrapperRef = _useComponentRef.elementRef;\n    var _useScrollbar = useScrollbar(scrollbar),\n      displayScrollbar = _useScrollbar.displayScrollbar,\n      scrollbarProps = _useScrollbar.scrollbarProps;\n    var handleScroll = function handleScroll(e) {\n      var _e$target = e.target,\n        scrollTop = _e$target.scrollTop,\n        scrollHeight = _e$target.scrollHeight,\n        offsetHeight = _e$target.offsetHeight;\n      var bottom = scrollHeight - (scrollTop + offsetHeight);\n      if (bottom <= props.bottomOffset) {\n        emit(\"reachBottom\", e);\n      }\n      emit(\"scroll\", e);\n    };\n    var cls = computed(function () {\n      var _ref2;\n      return [prefixCls, (_ref2 = {}, _defineProperty(_ref2, \"\".concat(prefixCls, \"-has-header\"), Boolean(slots.header)), _defineProperty(_ref2, \"\".concat(prefixCls, \"-has-footer\"), Boolean(slots.footer)), _ref2)];\n    });\n    return {\n      prefixCls: prefixCls,\n      cls: cls,\n      wrapperRef: wrapperRef,\n      wrapperComRef: wrapperComRef,\n      handleScroll: handleScroll,\n      displayScrollbar: displayScrollbar,\n      scrollbarProps: scrollbarProps\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_spin = resolveComponent(\"spin\");\n  var _component_empty = resolveComponent(\"empty\");\n  return openBlock(), createElementBlock(\"div\", {\n    \"class\": normalizeClass(_ctx.cls)\n  }, [_ctx.loading ? (openBlock(), createBlock(_component_spin, {\n    key: 0,\n    \"class\": normalizeClass(\"\".concat(_ctx.prefixCls, \"-loading\"))\n  }, null, 8, [\"class\"])) : _ctx.empty ? (openBlock(), createElementBlock(\"div\", {\n    key: 1,\n    \"class\": normalizeClass(\"\".concat(_ctx.prefixCls, \"-empty\"))\n  }, [renderSlot(_ctx.$slots, \"empty\", {}, function () {\n    return [createVNode(_component_empty)];\n  })], 2)) : createCommentVNode(\"v-if\", true), _ctx.$slots.header && !_ctx.empty ? (openBlock(), createElementBlock(\"div\", {\n    key: 2,\n    \"class\": normalizeClass(\"\".concat(_ctx.prefixCls, \"-header\"))\n  }, [renderSlot(_ctx.$slots, \"header\")], 2)) : createCommentVNode(\"v-if\", true), _ctx.virtualList && !_ctx.loading && !_ctx.empty ? renderSlot(_ctx.$slots, \"virtual-list\", {\n    key: 3\n  }) : createCommentVNode(\"v-if\", true), !_ctx.virtualList ? withDirectives((openBlock(), createBlock(resolveDynamicComponent(_ctx.displayScrollbar ? \"ScrollbarComponent\" : \"div\"), mergeProps({\n    key: 4,\n    ref: \"wrapperComRef\",\n    \"class\": \"\".concat(_ctx.prefixCls, \"-list-wrapper\")\n  }, _ctx.scrollbarProps, {\n    onScroll: _ctx.handleScroll\n  }), {\n    \"default\": withCtx(function () {\n      return [createElementVNode(\"ul\", {\n        \"class\": normalizeClass(\"\".concat(_ctx.prefixCls, \"-list\"))\n      }, [renderSlot(_ctx.$slots, \"default\")], 2)];\n    }),\n    _: 3\n  }, 16, [\"class\", \"onScroll\"])), [[vShow, !_ctx.loading && !_ctx.empty]]) : createCommentVNode(\"v-if\", true), _ctx.$slots.footer && !_ctx.empty ? (openBlock(), createElementBlock(\"div\", {\n    key: 5,\n    \"class\": normalizeClass(\"\".concat(_ctx.prefixCls, \"-footer\"))\n  }, [renderSlot(_ctx.$slots, \"footer\")], 2)) : createCommentVNode(\"v-if\", true)], 2);\n}\nvar SelectDropdown = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { SelectDropdown as default };","map":{"version":3,"names":["defineComponent","toRefs","computed","resolveComponent","openBlock","createElementBlock","normalizeClass","createBlock","renderSlot","createVNode","createCommentVNode","withDirectives","resolveDynamicComponent","mergeProps","withCtx","createElementVNode","vShow","getPrefixCls","Empty","Spin","Scrollbar","useComponentRef","useScrollbar","_export_sfc","_sfc_main","name","components","ScrollbarComponent","props","loading","Boolean","empty","virtualList","bottomOffset","type","Number","scrollbar","Object","onScroll","Function","Array","onReachBottom","emits","setup","_ref","emit","slots","_toRefs","prefixCls","_useComponentRef","wrapperComRef","componentRef","wrapperRef","elementRef","_useScrollbar","displayScrollbar","scrollbarProps","handleScroll","e","_e$target","target","scrollTop","scrollHeight","offsetHeight","bottom","cls","_ref2","_defineProperty","concat","header","footer","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","_component_spin","_component_empty","key","$slots","ref","_","SelectDropdown","default"],"sources":["/root/FrontPlatform/vue-front/node_modules/@arco-design/web-vue/es/select/select-dropdown.js"],"sourcesContent":["import { defineComponent, toRefs, computed, resolveComponent, openBlock, createElementBlock, normalizeClass, createBlock, renderSlot, createVNode, createCommentVNode, withDirectives, resolveDynamicComponent, mergeProps, withCtx, createElementVNode, vShow } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport Empty from \"../empty/index.js\";\nimport Spin from \"../spin/index.js\";\nimport Scrollbar from \"../scrollbar/index.js\";\nimport { useComponentRef } from \"../_hooks/use-component-ref.js\";\nimport { useScrollbar } from \"../_hooks/use-scrollbar.js\";\nimport _export_sfc from \"../_virtual/plugin-vue_export-helper.js\";\nconst _sfc_main = defineComponent({\n  name: \"SelectDropdown\",\n  components: {\n    ScrollbarComponent: Scrollbar,\n    Empty,\n    Spin\n  },\n  props: {\n    loading: Boolean,\n    empty: Boolean,\n    virtualList: Boolean,\n    bottomOffset: {\n      type: Number,\n      default: 0\n    },\n    scrollbar: {\n      type: [Boolean, Object],\n      default: true\n    },\n    onScroll: {\n      type: [Function, Array]\n    },\n    onReachBottom: {\n      type: [Function, Array]\n    }\n  },\n  emits: [\"scroll\", \"reachBottom\"],\n  setup(props, { emit, slots }) {\n    const { scrollbar } = toRefs(props);\n    const prefixCls = getPrefixCls(\"select-dropdown\");\n    const { componentRef: wrapperComRef, elementRef: wrapperRef } = useComponentRef(\"containerRef\");\n    const { displayScrollbar, scrollbarProps } = useScrollbar(scrollbar);\n    const handleScroll = (e) => {\n      const { scrollTop, scrollHeight, offsetHeight } = e.target;\n      const bottom = scrollHeight - (scrollTop + offsetHeight);\n      if (bottom <= props.bottomOffset) {\n        emit(\"reachBottom\", e);\n      }\n      emit(\"scroll\", e);\n    };\n    const cls = computed(() => [\n      prefixCls,\n      {\n        [`${prefixCls}-has-header`]: Boolean(slots.header),\n        [`${prefixCls}-has-footer`]: Boolean(slots.footer)\n      }\n    ]);\n    return {\n      prefixCls,\n      cls,\n      wrapperRef,\n      wrapperComRef,\n      handleScroll,\n      displayScrollbar,\n      scrollbarProps\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_spin = resolveComponent(\"spin\");\n  const _component_empty = resolveComponent(\"empty\");\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass(_ctx.cls)\n  }, [\n    _ctx.loading ? (openBlock(), createBlock(_component_spin, {\n      key: 0,\n      class: normalizeClass(`${_ctx.prefixCls}-loading`)\n    }, null, 8, [\"class\"])) : _ctx.empty ? (openBlock(), createElementBlock(\"div\", {\n      key: 1,\n      class: normalizeClass(`${_ctx.prefixCls}-empty`)\n    }, [\n      renderSlot(_ctx.$slots, \"empty\", {}, () => [\n        createVNode(_component_empty)\n      ])\n    ], 2)) : createCommentVNode(\"v-if\", true),\n    _ctx.$slots.header && !_ctx.empty ? (openBlock(), createElementBlock(\"div\", {\n      key: 2,\n      class: normalizeClass(`${_ctx.prefixCls}-header`)\n    }, [\n      renderSlot(_ctx.$slots, \"header\")\n    ], 2)) : createCommentVNode(\"v-if\", true),\n    _ctx.virtualList && !_ctx.loading && !_ctx.empty ? renderSlot(_ctx.$slots, \"virtual-list\", { key: 3 }) : createCommentVNode(\"v-if\", true),\n    !_ctx.virtualList ? withDirectives((openBlock(), createBlock(resolveDynamicComponent(_ctx.displayScrollbar ? \"ScrollbarComponent\" : \"div\"), mergeProps({\n      key: 4,\n      ref: \"wrapperComRef\",\n      class: `${_ctx.prefixCls}-list-wrapper`\n    }, _ctx.scrollbarProps, { onScroll: _ctx.handleScroll }), {\n      default: withCtx(() => [\n        createElementVNode(\"ul\", {\n          class: normalizeClass(`${_ctx.prefixCls}-list`)\n        }, [\n          renderSlot(_ctx.$slots, \"default\")\n        ], 2)\n      ]),\n      _: 3\n    }, 16, [\"class\", \"onScroll\"])), [\n      [vShow, !_ctx.loading && !_ctx.empty]\n    ]) : createCommentVNode(\"v-if\", true),\n    _ctx.$slots.footer && !_ctx.empty ? (openBlock(), createElementBlock(\"div\", {\n      key: 5,\n      class: normalizeClass(`${_ctx.prefixCls}-footer`)\n    }, [\n      renderSlot(_ctx.$slots, \"footer\")\n    ], 2)) : createCommentVNode(\"v-if\", true)\n  ], 2);\n}\nvar SelectDropdown = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { SelectDropdown as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
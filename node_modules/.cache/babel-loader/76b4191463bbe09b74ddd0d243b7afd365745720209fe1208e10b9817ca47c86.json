{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport { defineComponent, ref, onMounted, onUpdated, createVNode, mergeProps, isVNode } from \"vue\";\nimport Tooltip from \"../../tooltip/index.js\";\nimport ResizeObserver from \"../resize-observer-v2.js\";\nimport { getPrefixCls } from \"../../_utils/global-config.js\";\nfunction _isSlot(s) {\n  return typeof s === \"function\" || Object.prototype.toString.call(s) === \"[object Object]\" && !isVNode(s);\n}\nvar AutoTooltip = defineComponent({\n  name: \"AutoTooltip\",\n  inheritAttrs: false,\n  props: {\n    tooltipProps: {\n      type: Object\n    }\n  },\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n      slots = _ref.slots;\n    var prefix = getPrefixCls(\"auto-tooltip\");\n    var containerRef = ref();\n    var contentRef = ref();\n    var text = ref(\"\");\n    var showTooltip = ref(false);\n    var calTooltip = function calTooltip() {\n      if (containerRef.value && contentRef.value) {\n        var _show = contentRef.value.offsetWidth > containerRef.value.offsetWidth;\n        if (_show !== showTooltip.value) {\n          showTooltip.value = _show;\n        }\n      }\n    };\n    var getText = function getText() {\n      var _a;\n      if (((_a = contentRef.value) == null ? void 0 : _a.textContent) && contentRef.value.textContent !== text.value) {\n        text.value = contentRef.value.textContent;\n      }\n    };\n    var onResize = function onResize() {\n      getText();\n      calTooltip();\n    };\n    onMounted(function () {\n      getText();\n      calTooltip();\n    });\n    onUpdated(function () {\n      getText();\n      calTooltip();\n    });\n    var renderContent = function renderContent() {\n      return createVNode(\"span\", mergeProps({\n        \"ref\": containerRef,\n        \"class\": prefix\n      }, attrs), [createVNode(ResizeObserver, {\n        \"onResize\": onResize\n      }, {\n        \"default\": function _default() {\n          var _a;\n          return [createVNode(\"span\", {\n            \"ref\": contentRef,\n            \"class\": \"\".concat(prefix, \"-content\")\n          }, [(_a = slots[\"default\"]) == null ? void 0 : _a.call(slots)])];\n        }\n      })]);\n    };\n    return function () {\n      var _slot2;\n      if (showTooltip.value) {\n        var _slot;\n        return createVNode(Tooltip, mergeProps({\n          \"content\": text.value,\n          \"onResize\": onResize\n        }, props.tooltipProps), _isSlot(_slot = renderContent()) ? _slot : {\n          \"default\": function _default() {\n            return [_slot];\n          }\n        });\n      }\n      return createVNode(ResizeObserver, {\n        \"onResize\": onResize\n      }, _isSlot(_slot2 = renderContent()) ? _slot2 : {\n        \"default\": function _default() {\n          return [_slot2];\n        }\n      });\n    };\n  }\n});\nexport { AutoTooltip as default };","map":{"version":3,"names":["defineComponent","ref","onMounted","onUpdated","createVNode","mergeProps","isVNode","Tooltip","ResizeObserver","getPrefixCls","_isSlot","s","Object","prototype","toString","call","AutoTooltip","name","inheritAttrs","props","tooltipProps","type","setup","_ref","attrs","slots","prefix","containerRef","contentRef","text","showTooltip","calTooltip","value","_show","offsetWidth","getText","_a","textContent","onResize","renderContent","_default","concat","_slot2","_slot","default"],"sources":["/root/FrontPlatform/vue-front/node_modules/@arco-design/web-vue/es/_components/auto-tooltip/auto-tooltip.js"],"sourcesContent":["import { defineComponent, ref, onMounted, onUpdated, createVNode, mergeProps, isVNode } from \"vue\";\nimport Tooltip from \"../../tooltip/index.js\";\nimport ResizeObserver from \"../resize-observer-v2.js\";\nimport { getPrefixCls } from \"../../_utils/global-config.js\";\nfunction _isSlot(s) {\n  return typeof s === \"function\" || Object.prototype.toString.call(s) === \"[object Object]\" && !isVNode(s);\n}\nvar AutoTooltip = defineComponent({\n  name: \"AutoTooltip\",\n  inheritAttrs: false,\n  props: {\n    tooltipProps: {\n      type: Object\n    }\n  },\n  setup(props, {\n    attrs,\n    slots\n  }) {\n    const prefix = getPrefixCls(\"auto-tooltip\");\n    const containerRef = ref();\n    const contentRef = ref();\n    const text = ref(\"\");\n    const showTooltip = ref(false);\n    const calTooltip = () => {\n      if (containerRef.value && contentRef.value) {\n        const _show = contentRef.value.offsetWidth > containerRef.value.offsetWidth;\n        if (_show !== showTooltip.value) {\n          showTooltip.value = _show;\n        }\n      }\n    };\n    const getText = () => {\n      var _a;\n      if (((_a = contentRef.value) == null ? void 0 : _a.textContent) && contentRef.value.textContent !== text.value) {\n        text.value = contentRef.value.textContent;\n      }\n    };\n    const onResize = () => {\n      getText();\n      calTooltip();\n    };\n    onMounted(() => {\n      getText();\n      calTooltip();\n    });\n    onUpdated(() => {\n      getText();\n      calTooltip();\n    });\n    const renderContent = () => {\n      return createVNode(\"span\", mergeProps({\n        \"ref\": containerRef,\n        \"class\": prefix\n      }, attrs), [createVNode(ResizeObserver, {\n        \"onResize\": onResize\n      }, {\n        default: () => {\n          var _a;\n          return [createVNode(\"span\", {\n            \"ref\": contentRef,\n            \"class\": `${prefix}-content`\n          }, [(_a = slots.default) == null ? void 0 : _a.call(slots)])];\n        }\n      })]);\n    };\n    return () => {\n      let _slot2;\n      if (showTooltip.value) {\n        let _slot;\n        return createVNode(Tooltip, mergeProps({\n          \"content\": text.value,\n          \"onResize\": onResize\n        }, props.tooltipProps), _isSlot(_slot = renderContent()) ? _slot : {\n          default: () => [_slot]\n        });\n      }\n      return createVNode(ResizeObserver, {\n        \"onResize\": onResize\n      }, _isSlot(_slot2 = renderContent()) ? _slot2 : {\n        default: () => [_slot2]\n      });\n    };\n  }\n});\nexport { AutoTooltip as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
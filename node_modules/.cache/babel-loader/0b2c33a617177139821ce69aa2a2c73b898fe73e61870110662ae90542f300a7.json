{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"container\"\n};\nvar _hoisted_2 = {\n  \"class\": \"login-wrapper\"\n};\nvar _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"header\"\n}, \"自由者平台\", -1 /* HOISTED */);\nvar _hoisted_4 = {\n  \"class\": \"form-wrapper\"\n};\nvar _hoisted_5 = [\"src\"];\nvar _hoisted_6 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"msg\"\n}, [/*#__PURE__*/_createTextVNode(\" Don't have account? \"), /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"#\"\n}, \"Sign up\")], -1 /* HOISTED */);\n\nexport function render(_ctx, _cache) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return _ctx.username = $event;\n    }),\n    id: \"username\",\n    placeholder: \"username\",\n    \"class\": \"input-item\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.username]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n      return _ctx.password = $event;\n    }),\n    id: \"password\",\n    placeholder: \"password\",\n    \"class\": \"input-item\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.password]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n      return _ctx.verificationCode = $event;\n    }),\n    id: \"verificationCode\",\n    placeholder: \"verification code\",\n    \"class\": \"input-item\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.verificationCode]]), _createElementVNode(\"img\", {\n    onClick: _cache[3] || (_cache[3] = function () {\n      return _ctx.GetImage && _ctx.GetImage.apply(_ctx, arguments);\n    }),\n    src: _ctx.$store.getters.getVcodePath\n  }, null, 8 /* PROPS */, _hoisted_5), _createElementVNode(\"div\", {\n    \"class\": \"btn\",\n    type: \"button\",\n    onClick: _cache[4] || (_cache[4] = function () {\n      return _ctx.Login && _ctx.Login.apply(_ctx, arguments);\n    })\n  }, \"Login\")]), _hoisted_6])]);\n}","map":{"version":3,"names":["_createElementVNode","href","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","type","_ctx","username","$event","id","placeholder","password","verificationCode","onClick","_cache","GetImage","apply","arguments","src","$store","getters","getVcodePath","Login","_hoisted_6"],"sources":["/root/FrontPlatform/vue-front/src/views/frontend/LoginView.vue"],"sourcesContent":["<template>\n    <div class=\"container\">\n       <div class=\"login-wrapper\">\n           <div class=\"header\">自由者平台</div>\n           <div class=\"form-wrapper\">\n               <input type=\"text\" v-model=\"username\"  id = \"username\" placeholder=\"username\" class=\"input-item\">\n               <input type=\"password\" v-model=\"password\" id = \"password\" placeholder=\"password\" class=\"input-item\">\n               <input type=\"text\" v-model=\"verificationCode\"  id = \"verificationCode\" placeholder=\"verification code\" class=\"input-item\">\n               <img @click=\"GetImage\" :src=\"$store.getters.getVcodePath\" />\n               <div class=\"btn\"  type=\"button\" @click=\"Login\">Login</div>\n           </div>\n           <div class=\"msg\">\n               Don't have account?\n               <a href=\"#\">Sign up</a>\n           </div>\n       </div>\n   </div>\n  </template>\n  \n  <script>\n  import apiRequest from  \"../../api/networkRequest\"\n  import apiPath from \"../../api/networkPath\"\n  import { mapGetters, mapMutations } from \"vuex\"\n  export default {\n  name: 'HomePage',\n  data(){\n      return {\n          Imagepath: \"\",\n          username: \"\",\n          password: \"\",\n          verificationCode: \"\",\n          verificationCodeId: \"\"\n      }\n  },\n  computed:{\n      ...mapGetters[\"getVcodePath\",\"getUserName\", \"getPassWord\", \"getVerificationCode\" ,\"getVerificationCodeId\",\"getLoginStatus\"]\n  },\n  methods:{\n      ...mapMutations[\"setVcodePath\",\"setUserName\", \"setPassWord\", \"setVerificationCode\" ,\"setVerificationCodeId\",\"setLoginStatus\"],\n      GetImage() {\n      apiRequest.getVerificationCode().then( res => {\n      this.$store.commit(\"setVcodePath\",apiPath.baseUrl + res.data.msg);\n      this.$store.commit(\"setVerificationCodeId\",res.data.msg.split(\"/\")[2].split('.')[0]);\n      })\n      },\n      Login() {\n      apiRequest.login(this.username,this.password,this.verificationCode,this.verificationCodeId).then(res =>{\n            if (res.data.success) {\n                this.$store.commit(\"setLoginStatus\",true);\n                this.$router.push(-1)\n            }else{\n                <a-alert type=\"error\" closable>\n                    <template #title>\n                         Error\n        </template>\n        This is an error alert.\n      </a-alert>\n            }\n\n      }),\n      this.username = \"\"\n      this.password = \"\"\n      this.verificationCode = \"\"\n      this.GetImage()\n      }\n  },\n  mounted(){\n      apiRequest.getVerificationCode().then( res => {\n          console.log(res.data.msg)\n          console.log(res.data.msg.split(\"/\")[2])\n          this.$store.commit(\"setVcodePath\",apiPath.baseUrl + res.data.msg);\n          this.$store.commit(\"setVerificationCodeId\",res.data.msg.split(\"/\")[2].split('.')[0]);\n      })\n      }\n  }\n  </script>\n  \n  <style>\n  * {\n   margin: 0;\n   padding: 0;\n  }\n  /* html {\n   height: 100%;\n  }\n  body {\n   height: 100%;\n  } */\n  .container {\n   height: 100%;\n   background-image: linear-gradient(to right, #fbc2eb, #a6c1ee);\n  }\n  .login-wrapper {\n   background-color: #fff;\n   width: 358px;\n   height: 588px;\n   border-radius: 15px;\n   padding: 0 50px;\n   position: relative;\n   left: 33.3%;\n   top: 50%;\n   /* transform: translate(-50%, -50%); */\n  }\n  .header {\n   font-size: 38px;\n   font-weight: bold;\n   text-align: center;\n   line-height: 200px;\n  }\n  .input-item {\n   display: block;\n   width: 100%;\n   margin-bottom: 20px;\n   border: 0;\n   padding: 10px;\n   border-bottom: 1px solid rgb(128, 125, 125);\n   font-size: 15px;\n   outline: none;\n  }\n  .input-item:placeholder {\n   text-transform: uppercase;\n  }\n  .btn {\n   text-align: center;\n   padding: 10px;\n   width: 100%;\n   margin-top: 40px;\n   background-image: linear-gradient(to right, #a6c1ee, #fbc2eb);\n   color: #fff;\n  }\n  .msg {\n   text-align: center;\n   line-height: 88px;\n  }\n  a {\n   text-decoration-line: none;\n   color: #abc1ee;\n  }\n  </style>"],"mappings":";;EACS,SAAM;AAAW;;EACd,SAAM;AAAe;8BACtBA,mBAAA,CAA+B;EAA1B,SAAM;AAAQ,GAAC,OAAK;;EACpB,SAAM;AAAc;;8BAOzBA,mBAAA,CAGM;EAHD,SAAM;AAAK,I,8BAAC,uBAEb,G,aAAAA,mBAAA,CAAuB;EAApBC,IAAI,EAAC;AAAG,GAAC,SAAO,E;;;uBAZ9BC,mBAAA,CAeK,OAfLC,UAeK,GAdFH,mBAAA,CAaM,OAbNI,UAaM,GAZFC,UAA+B,EAC/BL,mBAAA,CAMM,OANNM,UAMM,G,gBALFN,mBAAA,CAAiG;IAA1FO,IAAI,EAAC,MAAM;;aAAUC,IAAA,CAAAC,QAAQ,GAAAC,MAAA;IAAA;IAAGC,EAAE,EAAG,UAAU;IAACC,WAAW,EAAC,UAAU;IAAC,SAAM;iDAAxDJ,IAAA,CAAAC,QAAQ,E,mBACpCT,mBAAA,CAAoG;IAA7FO,IAAI,EAAC,UAAU;;aAAUC,IAAA,CAAAK,QAAQ,GAAAH,MAAA;IAAA;IAAEC,EAAE,EAAG,UAAU;IAACC,WAAW,EAAC,UAAU;IAAC,SAAM;iDAAvDJ,IAAA,CAAAK,QAAQ,E,mBACxCb,mBAAA,CAA0H;IAAnHO,IAAI,EAAC,MAAM;;aAAUC,IAAA,CAAAM,gBAAgB,GAAAJ,MAAA;IAAA;IAAGC,EAAE,EAAG,kBAAkB;IAACC,WAAW,EAAC,mBAAmB;IAAC,SAAM;iDAAjFJ,IAAA,CAAAM,gBAAgB,E,GAC5Cd,mBAAA,CAA4D;IAAtDe,OAAK,EAAAC,MAAA,QAAAA,MAAA;MAAA,OAAER,IAAA,CAAAS,QAAA,IAAAT,IAAA,CAAAS,QAAA,CAAAC,KAAA,CAAAV,IAAA,EAAAW,SAAA,CAAQ;IAAA;IAAGC,GAAG,EAAEZ,IAAA,CAAAa,MAAM,CAACC,OAAO,CAACC;uCAC5CvB,mBAAA,CAA0D;IAArD,SAAM,KAAK;IAAEO,IAAI,EAAC,QAAQ;IAAEQ,OAAK,EAAAC,MAAA,QAAAA,MAAA;MAAA,OAAER,IAAA,CAAAgB,KAAA,IAAAhB,IAAA,CAAAgB,KAAA,CAAAN,KAAA,CAAAV,IAAA,EAAAW,SAAA,CAAK;IAAA;KAAE,OAAK,E,GAExDM,UAGM,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}
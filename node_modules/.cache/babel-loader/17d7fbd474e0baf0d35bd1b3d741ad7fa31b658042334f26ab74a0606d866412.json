{"ast":null,"code":"import _slicedToArray from \"/root/FrontPlatform/vue-front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { toRefs, computed, watch } from \"vue\";\nimport { getDayjsValue } from \"../../_utils/date.js\";\nimport { isUndefined, isArray } from \"../../_utils/is.js\";\nimport useState from \"../../_hooks/use-state.js\";\nfunction useTimeState(props) {\n  var _toRefs = toRefs(props),\n    modelValue = _toRefs.modelValue,\n    defaultValue = _toRefs.defaultValue,\n    format = _toRefs.format,\n    isRange = _toRefs.isRange;\n  function getLocalEmptyValue() {\n    return isRange.value ? [] : void 0;\n  }\n  function normalizeValue(time) {\n    if (isUndefined(time)) {\n      return void 0;\n    }\n    if (isRange.value) {\n      return isArray(time) ? time : [time, void 0];\n    }\n    return time;\n  }\n  var computedModelValue = computed(function () {\n    var time = normalizeValue(modelValue.value);\n    return getDayjsValue(time, format.value);\n  });\n  var computedDefaultValue = computed(function () {\n    var time = normalizeValue(defaultValue.value);\n    return getDayjsValue(time, format.value);\n  });\n  var _useState = useState(!isUndefined(computedModelValue.value) ? computedModelValue.value : !isUndefined(computedDefaultValue.value) ? computedDefaultValue.value : getLocalEmptyValue()),\n    _useState2 = _slicedToArray(_useState, 2),\n    localValue = _useState2[0],\n    setLocalValue = _useState2[1];\n  watch(computedModelValue, function () {\n    if (isUndefined(computedModelValue.value)) {\n      setLocalValue(getLocalEmptyValue());\n    }\n  });\n  var computedValue = computed(function () {\n    return computedModelValue.value || localValue.value;\n  });\n  var _useState3 = useState(computedValue.value),\n    _useState4 = _slicedToArray(_useState3, 2),\n    panelValue = _useState4[0],\n    setPanelValue = _useState4[1];\n  watch([computedValue], function () {\n    setPanelValue(computedValue.value);\n  });\n  var _useState5 = useState(),\n    _useState6 = _slicedToArray(_useState5, 2),\n    inputValue = _useState6[0],\n    setInputValue = _useState6[1];\n  watch([panelValue], function () {\n    setInputValue(void 0);\n  });\n  return {\n    computedValue: computedValue,\n    panelValue: panelValue,\n    inputValue: inputValue,\n    setValue: setLocalValue,\n    setPanelValue: setPanelValue,\n    setInputValue: setInputValue\n  };\n}\nexport { useTimeState as default };","map":{"version":3,"names":["toRefs","computed","watch","getDayjsValue","isUndefined","isArray","useState","useTimeState","props","_toRefs","modelValue","defaultValue","format","isRange","getLocalEmptyValue","value","normalizeValue","time","computedModelValue","computedDefaultValue","_useState","_useState2","_slicedToArray","localValue","setLocalValue","computedValue","_useState3","_useState4","panelValue","setPanelValue","_useState5","_useState6","inputValue","setInputValue","setValue","default"],"sources":["/root/FrontPlatform/vue-front/node_modules/@arco-design/web-vue/es/time-picker/hooks/use-time-state.js"],"sourcesContent":["import { toRefs, computed, watch } from \"vue\";\nimport { getDayjsValue } from \"../../_utils/date.js\";\nimport { isUndefined, isArray } from \"../../_utils/is.js\";\nimport useState from \"../../_hooks/use-state.js\";\nfunction useTimeState(props) {\n  const { modelValue, defaultValue, format, isRange } = toRefs(props);\n  function getLocalEmptyValue() {\n    return isRange.value ? [] : void 0;\n  }\n  function normalizeValue(time) {\n    if (isUndefined(time)) {\n      return void 0;\n    }\n    if (isRange.value) {\n      return isArray(time) ? time : [time, void 0];\n    }\n    return time;\n  }\n  const computedModelValue = computed(() => {\n    const time = normalizeValue(modelValue.value);\n    return getDayjsValue(time, format.value);\n  });\n  const computedDefaultValue = computed(() => {\n    const time = normalizeValue(defaultValue.value);\n    return getDayjsValue(time, format.value);\n  });\n  const [localValue, setLocalValue] = useState(!isUndefined(computedModelValue.value) ? computedModelValue.value : !isUndefined(computedDefaultValue.value) ? computedDefaultValue.value : getLocalEmptyValue());\n  watch(computedModelValue, () => {\n    if (isUndefined(computedModelValue.value)) {\n      setLocalValue(getLocalEmptyValue());\n    }\n  });\n  const computedValue = computed(() => computedModelValue.value || localValue.value);\n  const [panelValue, setPanelValue] = useState(computedValue.value);\n  watch([computedValue], () => {\n    setPanelValue(computedValue.value);\n  });\n  const [inputValue, setInputValue] = useState();\n  watch([panelValue], () => {\n    setInputValue(void 0);\n  });\n  return {\n    computedValue,\n    panelValue,\n    inputValue,\n    setValue: setLocalValue,\n    setPanelValue,\n    setInputValue\n  };\n}\nexport { useTimeState as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { ref, reactive } from \"vue\";\nimport { on, off } from \"../../_utils/dom.js\";\nvar useColumnResize = function useColumnResize(thRefs, emit) {\n  var resizingColumn = ref(\"\");\n  var columnWidth = reactive({});\n  var handleThMouseDown = function handleThMouseDown(dataIndex, ev) {\n    ev.preventDefault();\n    resizingColumn.value = dataIndex;\n    on(window, \"mousemove\", handleThMouseMoving);\n    on(window, \"mouseup\", handleThMouseUp);\n    on(window, \"contextmenu\", handleThMouseUp);\n  };\n  var handleThMouseUp = function handleThMouseUp() {\n    resizingColumn.value = \"\";\n    off(window, \"mousemove\", handleThMouseMoving);\n    off(window, \"mouseup\", handleThMouseUp);\n    off(window, \"contextmenu\", handleThMouseUp);\n  };\n  var handleThMouseMoving = function handleThMouseMoving(ev) {\n    var element = thRefs.value[resizingColumn.value];\n    if (element) {\n      var clientX = ev.clientX;\n      var _element$getBoundingC = element.getBoundingClientRect(),\n        x = _element$getBoundingC.x;\n      var width = Math.ceil(clientX - x);\n      if (width < 40) {\n        width = 40;\n      }\n      columnWidth[resizingColumn.value] = width;\n      emit(\"columnResize\", resizingColumn.value, width);\n    }\n  };\n  return {\n    resizingColumn: resizingColumn,\n    columnWidth: columnWidth,\n    handleThMouseDown: handleThMouseDown,\n    handleThMouseUp: handleThMouseUp\n  };\n};\nexport { useColumnResize };","map":{"version":3,"names":["ref","reactive","on","off","useColumnResize","thRefs","emit","resizingColumn","columnWidth","handleThMouseDown","dataIndex","ev","preventDefault","value","window","handleThMouseMoving","handleThMouseUp","element","clientX","_element$getBoundingC","getBoundingClientRect","x","width","Math","ceil"],"sources":["/root/FrontPlatform/vue-front/node_modules/@arco-design/web-vue/es/table/hooks/use-column-resize.js"],"sourcesContent":["import { ref, reactive } from \"vue\";\nimport { on, off } from \"../../_utils/dom.js\";\nconst useColumnResize = (thRefs, emit) => {\n  const resizingColumn = ref(\"\");\n  const columnWidth = reactive({});\n  const handleThMouseDown = (dataIndex, ev) => {\n    ev.preventDefault();\n    resizingColumn.value = dataIndex;\n    on(window, \"mousemove\", handleThMouseMoving);\n    on(window, \"mouseup\", handleThMouseUp);\n    on(window, \"contextmenu\", handleThMouseUp);\n  };\n  const handleThMouseUp = () => {\n    resizingColumn.value = \"\";\n    off(window, \"mousemove\", handleThMouseMoving);\n    off(window, \"mouseup\", handleThMouseUp);\n    off(window, \"contextmenu\", handleThMouseUp);\n  };\n  const handleThMouseMoving = (ev) => {\n    const element = thRefs.value[resizingColumn.value];\n    if (element) {\n      const { clientX } = ev;\n      const { x } = element.getBoundingClientRect();\n      let width = Math.ceil(clientX - x);\n      if (width < 40) {\n        width = 40;\n      }\n      columnWidth[resizingColumn.value] = width;\n      emit(\"columnResize\", resizingColumn.value, width);\n    }\n  };\n  return {\n    resizingColumn,\n    columnWidth,\n    handleThMouseDown,\n    handleThMouseUp\n  };\n};\nexport { useColumnResize };\n"],"mappings":"AAAA,SAASA,GAAG,EAAEC,QAAQ,QAAQ,KAAK;AACnC,SAASC,EAAE,EAAEC,GAAG,QAAQ,qBAAqB;AAC7C,IAAMC,eAAe,GAAG,SAAlBA,eAAeA,CAAIC,MAAM,EAAEC,IAAI,EAAK;EACxC,IAAMC,cAAc,GAAGP,GAAG,CAAC,EAAE,CAAC;EAC9B,IAAMQ,WAAW,GAAGP,QAAQ,CAAC,CAAC,CAAC,CAAC;EAChC,IAAMQ,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAIC,SAAS,EAAEC,EAAE,EAAK;IAC3CA,EAAE,CAACC,cAAc,EAAE;IACnBL,cAAc,CAACM,KAAK,GAAGH,SAAS;IAChCR,EAAE,CAACY,MAAM,EAAE,WAAW,EAAEC,mBAAmB,CAAC;IAC5Cb,EAAE,CAACY,MAAM,EAAE,SAAS,EAAEE,eAAe,CAAC;IACtCd,EAAE,CAACY,MAAM,EAAE,aAAa,EAAEE,eAAe,CAAC;EAC5C,CAAC;EACD,IAAMA,eAAe,GAAG,SAAlBA,eAAeA,CAAA,EAAS;IAC5BT,cAAc,CAACM,KAAK,GAAG,EAAE;IACzBV,GAAG,CAACW,MAAM,EAAE,WAAW,EAAEC,mBAAmB,CAAC;IAC7CZ,GAAG,CAACW,MAAM,EAAE,SAAS,EAAEE,eAAe,CAAC;IACvCb,GAAG,CAACW,MAAM,EAAE,aAAa,EAAEE,eAAe,CAAC;EAC7C,CAAC;EACD,IAAMD,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAIJ,EAAE,EAAK;IAClC,IAAMM,OAAO,GAAGZ,MAAM,CAACQ,KAAK,CAACN,cAAc,CAACM,KAAK,CAAC;IAClD,IAAII,OAAO,EAAE;MACX,IAAQC,OAAO,GAAKP,EAAE,CAAdO,OAAO;MACf,IAAAC,qBAAA,GAAcF,OAAO,CAACG,qBAAqB,EAAE;QAArCC,CAAC,GAAAF,qBAAA,CAADE,CAAC;MACT,IAAIC,KAAK,GAAGC,IAAI,CAACC,IAAI,CAACN,OAAO,GAAGG,CAAC,CAAC;MAClC,IAAIC,KAAK,GAAG,EAAE,EAAE;QACdA,KAAK,GAAG,EAAE;MACZ;MACAd,WAAW,CAACD,cAAc,CAACM,KAAK,CAAC,GAAGS,KAAK;MACzChB,IAAI,CAAC,cAAc,EAAEC,cAAc,CAACM,KAAK,EAAES,KAAK,CAAC;IACnD;EACF,CAAC;EACD,OAAO;IACLf,cAAc,EAAdA,cAAc;IACdC,WAAW,EAAXA,WAAW;IACXC,iBAAiB,EAAjBA,iBAAiB;IACjBO,eAAe,EAAfA;EACF,CAAC;AACH,CAAC;AACD,SAASZ,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}
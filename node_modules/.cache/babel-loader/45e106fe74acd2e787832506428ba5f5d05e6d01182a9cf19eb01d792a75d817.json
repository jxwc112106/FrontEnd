{"ast":null,"code":"import _createForOfIteratorHelper from \"/root/FrontPlatform/vue-front/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.split.js\";\nimport \"core-js/modules/es.string.ends-with.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.map.js\";\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = function __defNormalProp(obj, key, value) {\n  return key in obj ? __defProp(obj, key, {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: value\n  }) : obj[key] = value;\n};\nvar __spreadValues = function __spreadValues(a, b) {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols) {\n    var _iterator = _createForOfIteratorHelper(__getOwnPropSymbols(b)),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var prop = _step.value;\n        if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n  return a;\n};\nimport { defineComponent, toRef, toRefs, ref, computed, watch, onMounted, nextTick, createVNode, mergeProps, createTextVNode, isVNode } from \"vue\";\nimport Textarea from \"../textarea/index.js\";\nimport Input from \"../input/index.js\";\nimport Trigger from \"../trigger/index.js\";\nimport SelectDropdown from \"../select/select-dropdown.js\";\nimport Option from \"../select/option.js\";\nimport { getTextBeforeSelection, getLastMeasureIndex, isValidSearch } from \"./utils.js\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport { getSizeStyles } from \"../textarea/utils.js\";\nimport ResizeObserver from \"../_components/resize-observer.js\";\nimport { isUndefined, isNull, isFunction } from \"../_utils/is.js\";\nimport { useSelect } from \"../select/hooks/use-select.js\";\nimport { getKeyFromValue } from \"../select/utils.js\";\nimport { useFormItem } from \"../_hooks/use-form-item.js\";\nfunction _isSlot(s) {\n  return typeof s === \"function\" || Object.prototype.toString.call(s) === \"[object Object]\" && !isVNode(s);\n}\nvar _Mention = defineComponent({\n  name: \"Mention\",\n  inheritAttrs: false,\n  props: {\n    modelValue: String,\n    defaultValue: {\n      type: String,\n      \"default\": \"\"\n    },\n    data: {\n      type: Array,\n      \"default\": function _default() {\n        return [];\n      }\n    },\n    prefix: {\n      type: [String, Array],\n      \"default\": \"@\"\n    },\n    split: {\n      type: String,\n      \"default\": \" \"\n    },\n    type: {\n      type: String,\n      \"default\": \"input\"\n    },\n    disabled: {\n      type: Boolean,\n      \"default\": false\n    },\n    allowClear: {\n      type: Boolean,\n      \"default\": false\n    }\n  },\n  emits: {\n    \"update:modelValue\": function updateModelValue(value) {\n      return true;\n    },\n    \"change\": function change(value) {\n      return true;\n    },\n    \"search\": function search(value) {\n      return true;\n    },\n    \"select\": function select(value) {\n      return true;\n    },\n    \"clear\": function clear(ev) {\n      return true;\n    },\n    \"focus\": function focus(ev) {\n      return true;\n    },\n    \"blur\": function blur(ev) {\n      return true;\n    }\n  },\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit,\n      attrs = _ref.attrs,\n      slots = _ref.slots;\n    var prefixCls = getPrefixCls(\"mention\");\n    var styleDeclaration;\n    var _useFormItem = useFormItem({\n        disabled: toRef(props, \"disabled\")\n      }),\n      mergedDisabled = _useFormItem.mergedDisabled,\n      eventHandlers = _useFormItem.eventHandlers;\n    var _toRefs = toRefs(props),\n      data = _toRefs.data,\n      modelValue = _toRefs.modelValue;\n    var dropdownRef = ref();\n    var optionRefs = ref({});\n    var _value = ref(props.defaultValue);\n    var computedValue = computed(function () {\n      var _a;\n      return (_a = props.modelValue) != null ? _a : _value.value;\n    });\n    watch(modelValue, function (value) {\n      if (isUndefined(value) || isNull(value)) {\n        _value.value = \"\";\n      }\n    });\n    var computedValueKeys = computed(function () {\n      return computedValue.value ? [getKeyFromValue(computedValue.value)] : [];\n    });\n    var measureInfo = ref({\n      measuring: false,\n      location: -1,\n      prefix: \"\",\n      text: \"\"\n    });\n    var resetMeasureInfo = function resetMeasureInfo() {\n      measureInfo.value = {\n        measuring: false,\n        location: -1,\n        prefix: \"\",\n        text: \"\"\n      };\n    };\n    var inputRef = ref();\n    var measureText = computed(function () {\n      return measureInfo.value.text;\n    });\n    var filterOption = ref(true);\n    var handleInput = function handleInput(value, e) {\n      var _a, _b;\n      var text = getTextBeforeSelection(e.target);\n      var lastMeasure = getLastMeasureIndex(text, props.prefix);\n      if (lastMeasure.location > -1) {\n        var measureText2 = text.slice(lastMeasure.location + lastMeasure.prefix.length);\n        if (isValidSearch(measureText2, props.split)) {\n          _popupVisible.value = true;\n          measureInfo.value = __spreadValues({\n            measuring: true,\n            text: measureText2\n          }, lastMeasure);\n          emit(\"search\", measureText2);\n        } else if (measureInfo.value.location > -1) {\n          resetMeasureInfo();\n        }\n      } else if (measureInfo.value.location > -1) {\n        resetMeasureInfo();\n      }\n      _value.value = value;\n      emit(\"update:modelValue\", value);\n      emit(\"change\", value);\n      (_b = (_a = eventHandlers.value) == null ? void 0 : _a.onChange) == null ? void 0 : _b.call(_a);\n    };\n    var handleClear = function handleClear(ev) {\n      var _a, _b;\n      _value.value = \"\";\n      emit(\"update:modelValue\", \"\");\n      emit(\"change\", \"\");\n      (_b = (_a = eventHandlers.value) == null ? void 0 : _a.onChange) == null ? void 0 : _b.call(_a);\n      emit(\"clear\", ev);\n    };\n    var _popupVisible = ref(false);\n    var computedPopupVisible = computed(function () {\n      return _popupVisible.value && measureInfo.value.measuring && validOptionInfos.value.length > 0;\n    });\n    var handleResize = function handleResize() {\n      mirrorStyle.value = getSizeStyles(styleDeclaration);\n    };\n    var handlePopupVisibleChange = function handlePopupVisibleChange(popupVisible) {\n      _popupVisible.value = popupVisible;\n    };\n    var handleSelect = function handleSelect(key, e) {\n      var _a, _b, _c;\n      var _ref2 = (_a = optionInfoMap.get(key)) != null ? _a : {},\n        value = _ref2.value;\n      var measureStart = measureInfo.value.location;\n      var measureEnd = measureInfo.value.location + measureInfo.value.text.length;\n      var head = _value.value.slice(0, measureStart);\n      var tail = _value.value.slice(measureEnd + 1);\n      head += !head || head.endsWith(props.split) || head.endsWith(\"\\n\") ? \"\" : props.split;\n      tail = (!tail || tail.startsWith(props.split) || tail.startsWith(\"\\n\") ? \"\" : props.split) + tail;\n      var match = \"\".concat(measureInfo.value.prefix).concat(value);\n      var nextValue = \"\".concat(head).concat(match).concat(tail);\n      _value.value = nextValue;\n      emit(\"select\", value);\n      emit(\"update:modelValue\", nextValue);\n      emit(\"change\", nextValue);\n      resetMeasureInfo();\n      (_c = (_b = eventHandlers.value) == null ? void 0 : _b.onChange) == null ? void 0 : _c.call(_b);\n    };\n    var _useSelect = useSelect({\n        options: data,\n        inputValue: measureText,\n        filterOption: filterOption,\n        popupVisible: computedPopupVisible,\n        valueKeys: computedValueKeys,\n        dropdownRef: dropdownRef,\n        optionRefs: optionRefs,\n        onSelect: handleSelect,\n        onPopupVisibleChange: handlePopupVisibleChange,\n        enterToOpen: false\n      }),\n      validOptions = _useSelect.validOptions,\n      optionInfoMap = _useSelect.optionInfoMap,\n      validOptionInfos = _useSelect.validOptionInfos,\n      handleKeyDown = _useSelect.handleKeyDown;\n    var mirrorStyle = ref();\n    onMounted(function () {\n      var _a;\n      if (props.type === \"textarea\" && ((_a = inputRef.value) == null ? void 0 : _a.textareaRef)) {\n        styleDeclaration = window.getComputedStyle(inputRef.value.textareaRef);\n        mirrorStyle.value = getSizeStyles(styleDeclaration);\n      }\n    });\n    var getOptionContentFunc = function getOptionContentFunc(item) {\n      if (isFunction(slots.option) && item.value) {\n        var optionInfo = optionInfoMap.get(item.key);\n        var optionSlot = slots.option;\n        return function () {\n          return optionSlot({\n            data: optionInfo\n          });\n        };\n      }\n      return function () {\n        return item.label;\n      };\n    };\n    var renderOption = function renderOption(item) {\n      return createVNode(Option, {\n        \"ref\": function ref(ref2) {\n          if (ref2 == null ? void 0 : ref2.$el) {\n            optionRefs.value[item.key] = ref2.$el;\n          }\n        },\n        \"key\": item.key,\n        \"value\": item.value,\n        \"disabled\": item.disabled,\n        \"internal\": true\n      }, {\n        \"default\": getOptionContentFunc(item)\n      });\n    };\n    var renderDropdown = function renderDropdown() {\n      var _slot;\n      return createVNode(SelectDropdown, {\n        \"ref\": dropdownRef\n      }, _isSlot(_slot = validOptions.value.map(function (info) {\n        return renderOption(info);\n      })) ? _slot : {\n        \"default\": function _default() {\n          return [_slot];\n        }\n      });\n    };\n    var mirrorRef = ref();\n    watch(computedPopupVisible, function (visible) {\n      if (props.type === \"textarea\" && visible) {\n        nextTick(function () {\n          var _a, _b;\n          if (((_a = inputRef.value) == null ? void 0 : _a.textareaRef) && inputRef.value.textareaRef.scrollTop > 0) {\n            (_b = mirrorRef.value) == null ? void 0 : _b.scrollTo(0, inputRef.value.textareaRef.scrollTop);\n          }\n        });\n      }\n    });\n    var onFocus = function onFocus(ev) {\n      emit(\"focus\", ev);\n    };\n    var onBlur = function onBlur(ev) {\n      emit(\"blur\", ev);\n    };\n    var render = function render() {\n      var _a;\n      if (props.type === \"textarea\") {\n        return createVNode(\"div\", {\n          \"class\": prefixCls\n        }, [createVNode(ResizeObserver, {\n          \"onResize\": handleResize\n        }, {\n          \"default\": function _default() {\n            return [createVNode(Textarea, mergeProps(attrs, {\n              \"ref\": inputRef,\n              \"allowClear\": props.allowClear,\n              \"modelValue\": computedValue.value,\n              \"onInput\": handleInput,\n              \"onClear\": handleClear,\n              \"onFocus\": onFocus,\n              \"onBlur\": onBlur,\n              \"onKeydown\": handleKeyDown\n            }), null)];\n          }\n        }), measureInfo.value.measuring && validOptionInfos.value.length > 0 && createVNode(\"div\", {\n          \"ref\": mirrorRef,\n          \"style\": mirrorStyle.value,\n          \"class\": \"\".concat(prefixCls, \"-measure\")\n        }, [(_a = computedValue.value) == null ? void 0 : _a.slice(0, measureInfo.value.location), createVNode(Trigger, {\n          \"trigger\": \"focus\",\n          \"position\": \"bl\",\n          \"popupOffset\": 4,\n          \"preventFocus\": true,\n          \"popupVisible\": computedPopupVisible.value,\n          \"clickToClose\": false,\n          \"onPopupVisibleChange\": handlePopupVisibleChange\n        }, {\n          \"default\": function _default() {\n            return [createVNode(\"span\", null, [createTextVNode(\"@\")])];\n          },\n          content: renderDropdown\n        })])]);\n      }\n      return createVNode(Trigger, {\n        \"trigger\": \"focus\",\n        \"position\": \"bl\",\n        \"animationName\": \"slide-dynamic-origin\",\n        \"popupOffset\": 4,\n        \"preventFocus\": true,\n        \"popupVisible\": computedPopupVisible.value,\n        \"clickToClose\": false,\n        \"autoFitPopupWidth\": true,\n        \"autoFitTransformOrigin\": true,\n        \"disabled\": mergedDisabled.value,\n        \"onPopupVisibleChange\": handlePopupVisibleChange\n      }, {\n        \"default\": function _default() {\n          return [createVNode(Input, mergeProps(attrs, {\n            \"ref\": inputRef,\n            \"allowClear\": props.allowClear,\n            \"modelValue\": computedValue.value,\n            \"disabled\": mergedDisabled.value,\n            \"onInput\": handleInput,\n            \"onClear\": handleClear,\n            \"onFocus\": onFocus,\n            \"onBlur\": onBlur,\n            \"onKeydown\": handleKeyDown\n          }), slots)];\n        },\n        content: renderDropdown\n      });\n    };\n    return {\n      inputRef: inputRef,\n      render: render\n    };\n  },\n  methods: {\n    focus: function focus() {\n      var _a;\n      (_a = this.inputRef) == null ? void 0 : _a.focus();\n    },\n    blur: function blur() {\n      var _a;\n      (_a = this.inputRef) == null ? void 0 : _a.blur();\n    }\n  },\n  render: function render() {\n    return this.render();\n  }\n});\nexport { _Mention as default };","map":{"version":3,"names":["__defProp","Object","defineProperty","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","_iterator","_createForOfIteratorHelper","_step","s","n","done","err","e","f","defineComponent","toRef","toRefs","ref","computed","watch","onMounted","nextTick","createVNode","mergeProps","createTextVNode","isVNode","Textarea","Input","Trigger","SelectDropdown","Option","getTextBeforeSelection","getLastMeasureIndex","isValidSearch","getPrefixCls","getSizeStyles","ResizeObserver","isUndefined","isNull","isFunction","useSelect","getKeyFromValue","useFormItem","_isSlot","toString","_Mention","name","inheritAttrs","props","modelValue","String","defaultValue","type","data","Array","_default","prefix","split","disabled","Boolean","allowClear","emits","updateModelValue","change","search","select","clear","ev","focus","blur","setup","_ref","emit","attrs","slots","prefixCls","styleDeclaration","_useFormItem","mergedDisabled","eventHandlers","_toRefs","dropdownRef","optionRefs","_value","computedValue","_a","computedValueKeys","measureInfo","measuring","location","text","resetMeasureInfo","inputRef","measureText","filterOption","handleInput","_b","target","lastMeasure","measureText2","slice","length","_popupVisible","onChange","handleClear","computedPopupVisible","validOptionInfos","handleResize","mirrorStyle","handlePopupVisibleChange","popupVisible","handleSelect","_c","_ref2","optionInfoMap","get","measureStart","measureEnd","head","tail","endsWith","startsWith","match","concat","nextValue","_useSelect","options","inputValue","valueKeys","onSelect","onPopupVisibleChange","enterToOpen","validOptions","handleKeyDown","textareaRef","window","getComputedStyle","getOptionContentFunc","item","option","optionInfo","optionSlot","label","renderOption","ref2","$el","renderDropdown","_slot","map","info","mirrorRef","visible","scrollTop","scrollTo","onFocus","onBlur","render","content","methods","default"],"sources":["/root/FrontPlatform/vue-front/node_modules/@arco-design/web-vue/es/mention/mention.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport { defineComponent, toRef, toRefs, ref, computed, watch, onMounted, nextTick, createVNode, mergeProps, createTextVNode, isVNode } from \"vue\";\nimport Textarea from \"../textarea/index.js\";\nimport Input from \"../input/index.js\";\nimport Trigger from \"../trigger/index.js\";\nimport SelectDropdown from \"../select/select-dropdown.js\";\nimport Option from \"../select/option.js\";\nimport { getTextBeforeSelection, getLastMeasureIndex, isValidSearch } from \"./utils.js\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport { getSizeStyles } from \"../textarea/utils.js\";\nimport ResizeObserver from \"../_components/resize-observer.js\";\nimport { isUndefined, isNull, isFunction } from \"../_utils/is.js\";\nimport { useSelect } from \"../select/hooks/use-select.js\";\nimport { getKeyFromValue } from \"../select/utils.js\";\nimport { useFormItem } from \"../_hooks/use-form-item.js\";\nfunction _isSlot(s) {\n  return typeof s === \"function\" || Object.prototype.toString.call(s) === \"[object Object]\" && !isVNode(s);\n}\nvar _Mention = defineComponent({\n  name: \"Mention\",\n  inheritAttrs: false,\n  props: {\n    modelValue: String,\n    defaultValue: {\n      type: String,\n      default: \"\"\n    },\n    data: {\n      type: Array,\n      default: () => []\n    },\n    prefix: {\n      type: [String, Array],\n      default: \"@\"\n    },\n    split: {\n      type: String,\n      default: \" \"\n    },\n    type: {\n      type: String,\n      default: \"input\"\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    allowClear: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: {\n    \"update:modelValue\": (value) => true,\n    \"change\": (value) => true,\n    \"search\": (value) => true,\n    \"select\": (value) => true,\n    \"clear\": (ev) => true,\n    \"focus\": (ev) => true,\n    \"blur\": (ev) => true\n  },\n  setup(props, {\n    emit,\n    attrs,\n    slots\n  }) {\n    const prefixCls = getPrefixCls(\"mention\");\n    let styleDeclaration;\n    const {\n      mergedDisabled,\n      eventHandlers\n    } = useFormItem({\n      disabled: toRef(props, \"disabled\")\n    });\n    const {\n      data,\n      modelValue\n    } = toRefs(props);\n    const dropdownRef = ref();\n    const optionRefs = ref({});\n    const _value = ref(props.defaultValue);\n    const computedValue = computed(() => {\n      var _a;\n      return (_a = props.modelValue) != null ? _a : _value.value;\n    });\n    watch(modelValue, (value) => {\n      if (isUndefined(value) || isNull(value)) {\n        _value.value = \"\";\n      }\n    });\n    const computedValueKeys = computed(() => computedValue.value ? [getKeyFromValue(computedValue.value)] : []);\n    const measureInfo = ref({\n      measuring: false,\n      location: -1,\n      prefix: \"\",\n      text: \"\"\n    });\n    const resetMeasureInfo = () => {\n      measureInfo.value = {\n        measuring: false,\n        location: -1,\n        prefix: \"\",\n        text: \"\"\n      };\n    };\n    const inputRef = ref();\n    const measureText = computed(() => measureInfo.value.text);\n    const filterOption = ref(true);\n    const handleInput = (value, e) => {\n      var _a, _b;\n      const text = getTextBeforeSelection(e.target);\n      const lastMeasure = getLastMeasureIndex(text, props.prefix);\n      if (lastMeasure.location > -1) {\n        const measureText2 = text.slice(lastMeasure.location + lastMeasure.prefix.length);\n        if (isValidSearch(measureText2, props.split)) {\n          _popupVisible.value = true;\n          measureInfo.value = __spreadValues({\n            measuring: true,\n            text: measureText2\n          }, lastMeasure);\n          emit(\"search\", measureText2);\n        } else if (measureInfo.value.location > -1) {\n          resetMeasureInfo();\n        }\n      } else if (measureInfo.value.location > -1) {\n        resetMeasureInfo();\n      }\n      _value.value = value;\n      emit(\"update:modelValue\", value);\n      emit(\"change\", value);\n      (_b = (_a = eventHandlers.value) == null ? void 0 : _a.onChange) == null ? void 0 : _b.call(_a);\n    };\n    const handleClear = (ev) => {\n      var _a, _b;\n      _value.value = \"\";\n      emit(\"update:modelValue\", \"\");\n      emit(\"change\", \"\");\n      (_b = (_a = eventHandlers.value) == null ? void 0 : _a.onChange) == null ? void 0 : _b.call(_a);\n      emit(\"clear\", ev);\n    };\n    const _popupVisible = ref(false);\n    const computedPopupVisible = computed(() => _popupVisible.value && measureInfo.value.measuring && validOptionInfos.value.length > 0);\n    const handleResize = () => {\n      mirrorStyle.value = getSizeStyles(styleDeclaration);\n    };\n    const handlePopupVisibleChange = (popupVisible) => {\n      _popupVisible.value = popupVisible;\n    };\n    const handleSelect = (key, e) => {\n      var _a, _b, _c;\n      const {\n        value\n      } = (_a = optionInfoMap.get(key)) != null ? _a : {};\n      const measureStart = measureInfo.value.location;\n      const measureEnd = measureInfo.value.location + measureInfo.value.text.length;\n      let head = _value.value.slice(0, measureStart);\n      let tail = _value.value.slice(measureEnd + 1);\n      head += !head || head.endsWith(props.split) || head.endsWith(\"\\n\") ? \"\" : props.split;\n      tail = (!tail || tail.startsWith(props.split) || tail.startsWith(\"\\n\") ? \"\" : props.split) + tail;\n      const match = `${measureInfo.value.prefix}${value}`;\n      const nextValue = `${head}${match}${tail}`;\n      _value.value = nextValue;\n      emit(\"select\", value);\n      emit(\"update:modelValue\", nextValue);\n      emit(\"change\", nextValue);\n      resetMeasureInfo();\n      (_c = (_b = eventHandlers.value) == null ? void 0 : _b.onChange) == null ? void 0 : _c.call(_b);\n    };\n    const {\n      validOptions,\n      optionInfoMap,\n      validOptionInfos,\n      handleKeyDown\n    } = useSelect({\n      options: data,\n      inputValue: measureText,\n      filterOption,\n      popupVisible: computedPopupVisible,\n      valueKeys: computedValueKeys,\n      dropdownRef,\n      optionRefs,\n      onSelect: handleSelect,\n      onPopupVisibleChange: handlePopupVisibleChange,\n      enterToOpen: false\n    });\n    const mirrorStyle = ref();\n    onMounted(() => {\n      var _a;\n      if (props.type === \"textarea\" && ((_a = inputRef.value) == null ? void 0 : _a.textareaRef)) {\n        styleDeclaration = window.getComputedStyle(inputRef.value.textareaRef);\n        mirrorStyle.value = getSizeStyles(styleDeclaration);\n      }\n    });\n    const getOptionContentFunc = (item) => {\n      if (isFunction(slots.option) && item.value) {\n        const optionInfo = optionInfoMap.get(item.key);\n        const optionSlot = slots.option;\n        return () => optionSlot({\n          data: optionInfo\n        });\n      }\n      return () => item.label;\n    };\n    const renderOption = (item) => {\n      return createVNode(Option, {\n        \"ref\": (ref2) => {\n          if (ref2 == null ? void 0 : ref2.$el) {\n            optionRefs.value[item.key] = ref2.$el;\n          }\n        },\n        \"key\": item.key,\n        \"value\": item.value,\n        \"disabled\": item.disabled,\n        \"internal\": true\n      }, {\n        default: getOptionContentFunc(item)\n      });\n    };\n    const renderDropdown = () => {\n      let _slot;\n      return createVNode(SelectDropdown, {\n        \"ref\": dropdownRef\n      }, _isSlot(_slot = validOptions.value.map((info) => renderOption(info))) ? _slot : {\n        default: () => [_slot]\n      });\n    };\n    const mirrorRef = ref();\n    watch(computedPopupVisible, (visible) => {\n      if (props.type === \"textarea\" && visible) {\n        nextTick(() => {\n          var _a, _b;\n          if (((_a = inputRef.value) == null ? void 0 : _a.textareaRef) && inputRef.value.textareaRef.scrollTop > 0) {\n            (_b = mirrorRef.value) == null ? void 0 : _b.scrollTo(0, inputRef.value.textareaRef.scrollTop);\n          }\n        });\n      }\n    });\n    const onFocus = (ev) => {\n      emit(\"focus\", ev);\n    };\n    const onBlur = (ev) => {\n      emit(\"blur\", ev);\n    };\n    const render = () => {\n      var _a;\n      if (props.type === \"textarea\") {\n        return createVNode(\"div\", {\n          \"class\": prefixCls\n        }, [createVNode(ResizeObserver, {\n          \"onResize\": handleResize\n        }, {\n          default: () => [createVNode(Textarea, mergeProps(attrs, {\n            \"ref\": inputRef,\n            \"allowClear\": props.allowClear,\n            \"modelValue\": computedValue.value,\n            \"onInput\": handleInput,\n            \"onClear\": handleClear,\n            \"onFocus\": onFocus,\n            \"onBlur\": onBlur,\n            \"onKeydown\": handleKeyDown\n          }), null)]\n        }), measureInfo.value.measuring && validOptionInfos.value.length > 0 && createVNode(\"div\", {\n          \"ref\": mirrorRef,\n          \"style\": mirrorStyle.value,\n          \"class\": `${prefixCls}-measure`\n        }, [(_a = computedValue.value) == null ? void 0 : _a.slice(0, measureInfo.value.location), createVNode(Trigger, {\n          \"trigger\": \"focus\",\n          \"position\": \"bl\",\n          \"popupOffset\": 4,\n          \"preventFocus\": true,\n          \"popupVisible\": computedPopupVisible.value,\n          \"clickToClose\": false,\n          \"onPopupVisibleChange\": handlePopupVisibleChange\n        }, {\n          default: () => [createVNode(\"span\", null, [createTextVNode(\"@\")])],\n          content: renderDropdown\n        })])]);\n      }\n      return createVNode(Trigger, {\n        \"trigger\": \"focus\",\n        \"position\": \"bl\",\n        \"animationName\": \"slide-dynamic-origin\",\n        \"popupOffset\": 4,\n        \"preventFocus\": true,\n        \"popupVisible\": computedPopupVisible.value,\n        \"clickToClose\": false,\n        \"autoFitPopupWidth\": true,\n        \"autoFitTransformOrigin\": true,\n        \"disabled\": mergedDisabled.value,\n        \"onPopupVisibleChange\": handlePopupVisibleChange\n      }, {\n        default: () => [createVNode(Input, mergeProps(attrs, {\n          \"ref\": inputRef,\n          \"allowClear\": props.allowClear,\n          \"modelValue\": computedValue.value,\n          \"disabled\": mergedDisabled.value,\n          \"onInput\": handleInput,\n          \"onClear\": handleClear,\n          \"onFocus\": onFocus,\n          \"onBlur\": onBlur,\n          \"onKeydown\": handleKeyDown\n        }), slots)],\n        content: renderDropdown\n      });\n    };\n    return {\n      inputRef,\n      render\n    };\n  },\n  methods: {\n    focus() {\n      var _a;\n      (_a = this.inputRef) == null ? void 0 : _a.focus();\n    },\n    blur() {\n      var _a;\n      (_a = this.inputRef) == null ? void 0 : _a.blur();\n    }\n  },\n  render() {\n    return this.render();\n  }\n});\nexport { _Mention as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
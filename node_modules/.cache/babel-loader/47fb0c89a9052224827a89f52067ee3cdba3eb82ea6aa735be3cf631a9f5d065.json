{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, vShow as _vShow, withDirectives as _withDirectives, vModelText as _vModelText, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"container\"\n};\nvar _hoisted_2 = {\n  \"class\": \"login-wrapper\"\n};\nvar _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"header\"\n}, \"自由者平台\", -1 /* HOISTED */);\nvar _hoisted_4 = {\n  \"class\": \"ishow\"\n};\nvar _hoisted_5 = {\n  \"class\": \"form-wrapper\"\n};\nvar _hoisted_6 = [\"src\"];\nvar _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"msg\"\n}, [/*#__PURE__*/_createTextVNode(\" Don't have account? \"), /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"#\"\n}, \"Sign up\")], -1 /* HOISTED */);\n\nexport function render(_ctx, _cache) {\n  var _component_a_alert = _resolveComponent(\"a-alert\");\n  var _component_a_col = _resolveComponent(\"a-col\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _withDirectives(_createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_a_col, {\n    span: 22\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_a_alert, {\n        type: \"error\",\n        closable: \"\"\n      }, {\n        title: _withCtx(function () {\n          return [_createTextVNode(_toDisplayString(_ctx.$store.getters.getErrMsg), 1 /* TEXT */)];\n        }),\n\n        \"default\": _withCtx(function () {\n          return [_createTextVNode(\" \" + _toDisplayString(_ctx.errmsg), 1 /* TEXT */)];\n        }),\n\n        _: 1 /* STABLE */\n      })];\n    }),\n\n    _: 1 /* STABLE */\n  })], 512 /* NEED_PATCH */), [[_vShow, _ctx.eshow]]), _createElementVNode(\"div\", {\n    \"class\": _normalizeClass({\n      'isbackground': _ctx.isbackground\n    })\n  }, [_createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return _ctx.username = $event;\n    }),\n    id: \"username\",\n    placeholder: \"username\",\n    \"class\": \"input-item\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.username]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n      return _ctx.password = $event;\n    }),\n    id: \"password\",\n    placeholder: \"password\",\n    \"class\": \"input-item\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.password]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n      return _ctx.verificationCode = $event;\n    }),\n    id: \"verificationCode\",\n    placeholder: \"verification code\",\n    \"class\": \"input-item\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.verificationCode]]), _createElementVNode(\"img\", {\n    onClick: _cache[3] || (_cache[3] = function () {\n      return _ctx.GetImage && _ctx.GetImage.apply(_ctx, arguments);\n    }),\n    src: _ctx.$store.getters.getVcodePath\n  }, null, 8 /* PROPS */, _hoisted_6), _createElementVNode(\"div\", {\n    \"class\": \"btn\",\n    type: \"button\",\n    onClick: _cache[4] || (_cache[4] = function () {\n      return _ctx.Login && _ctx.Login.apply(_ctx, arguments);\n    })\n  }, \"Login\")])], 2 /* CLASS */), _hoisted_7])]);\n}","map":{"version":3,"names":["_createElementVNode","href","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_a_col","span","_component_a_alert","type","closable","title","_withCtx","_ctx","$store","getters","getErrMsg","_toDisplayString","errmsg","eshow","_normalizeClass","isbackground","_hoisted_5","username","$event","id","placeholder","password","verificationCode","onClick","_cache","GetImage","apply","arguments","src","getVcodePath","Login","_hoisted_7"],"sources":["/root/FrontPlatform/vue-front/src/views/frontend/LoginView.vue"],"sourcesContent":["<template>\n    <div class=\"container\">\n        <div class=\"login-wrapper\">\n            <div class=\"header\">自由者平台</div>\n            <div class=\"ishow\" v-show=\"eshow\">\n                <a-col :span=\"22\">\n                    <a-alert type=\"error\" closable>\n                        <template #title>\n                            {{ $store.getters.getErrMsg  }}\n                        </template>\n                        {{ errmsg }}\n                    </a-alert>\n                </a-col>\n            </div>\n            <div :class=\"{'isbackground':isbackground}\">\n                <div class=\"form-wrapper\">\n                <input type=\"text\" v-model=\"username\" id=\"username\" placeholder=\"username\" class=\"input-item\">\n                <input type=\"password\" v-model=\"password\" id=\"password\" placeholder=\"password\" class=\"input-item\">\n                <input type=\"text\" v-model=\"verificationCode\" id=\"verificationCode\" placeholder=\"verification code\"\n                    class=\"input-item\">\n                <img @click=\"GetImage\" :src=\"$store.getters.getVcodePath\" />\n                <div class=\"btn\" type=\"button\" @click=\"Login\">Login</div>\n            </div>\n            </div>\n            <div class=\"msg\">\n                Don't have account?\n                <a href=\"#\">Sign up</a>\n            </div>\n        </div>\n    </div>\n</template>\n  \n<script>\nimport apiRequest from \"../../api/networkRequest\"\nimport apiPath from \"../../api/networkPath\"\nimport { mapGetters, mapMutations } from \"vuex\"\nexport default {\n    name: 'HomePage',\n    data() {\n        return {\n            Imagepath: \"\",\n            username: \"\",\n            password: \"\",\n            verificationCode: \"\",\n            verificationCodeId: \"\",\n            isbackground:true,\n            eshow:false,\n            errmsg:\"\"\n\n        }\n    },\n    computed: {\n        ...mapGetters[\"getVcodePath\", \"getUserName\", \"getPassWord\", \"getVerificationCode\", \"getVerificationCodeId\", \"getLoginStatus\",\"getErrMsg\"],\n        verificationCode:function():{\n            return this.$store\n        }\n    },\n    methods: {\n        ...mapMutations[\"setVcodePath\", \"setUserName\", \"setPassWord\", \"setVerificationCode\", \"setVerificationCodeId\", \"setLoginStatus\",\"setErrMsg\"],\n        GetImage() {\n            apiRequest.getVerificationCode().then(res => {\n                this.$store.commit(\"setVcodePath\", apiPath.baseUrl + res.data.msg);\n                this.$store.commit(\"setVerificationCodeId\", res.data.msg.split(\"/\")[2].split('.')[0]);\n            })\n        },\n        Login() {\n            apiRequest.login(this.username, this.password, this.verificationCode, this.verificationCodeId)\n            if (!this.$store.getters.getLoginStatus){\n                this.username = \"\"\n                this.password = \"\"\n                this.verificationCode = \"\"\n                this.GetImage()\n                this.ErrorShow()\n            }\n        },\n        ErrorShow(){\n            this.eshow = true\n            this.isbackground = true\n            setTimeout(() => {\n                this.eshow = false\n                this.isbackground = false\n            }, 3000);\n        }\n    },\n    created() {\n       \n    },\n    mounted() {\n\n        apiRequest.getVerificationCode().then(res => {\n            console.log(apiPath.baseUrl + res.data.msg)\n            console.log(res.data.msg.split(\"/\")[2])\n            this.$store.commit(\"setVcodePath\", apiPath.baseUrl + res.data.msg);\n            // this.$store.setVcodePath(apiPath.baseUrl + res.data.msg)\n            // setTimeout(() => {\n            // }, 3000);\n            console.log(this.$store.get('vCodepath'))\n            // console.log(this.getVcodePath)\n            this.$store.commit(\"setVerificationCodeId\", res.data.msg.split(\"/\")[2].split('.')[0]);\n            console.log(this.$store.getVerificationCodeId)\n        })\n    }\n}\n</script>\n  \n<style>\n* {\n    margin: 0;\n    padding: 0;\n}\n\n/* html {\n   height: 100%;\n  }\n  body {\n   height: 100%;\n  } */\n.container {\n    height: 100%;\n    background-image: linear-gradient(to right, #fbc2eb, #a6c1ee);\n}\n\n.login-wrapper {\n    background-color: #fff;\n    width: 358px;\n    height: 588px;\n    border-radius: 15px;\n    padding: 0 50px;\n    position: relative;\n    left: 33.3%;\n    top: 50%;\n    /* transform: translate(-50%, -50%); */\n}\n\n.header {\n    font-size: 38px;\n    font-weight: bold;\n    text-align: center;\n    line-height: 200px;\n}\n\n.input-item {\n    display: block;\n    width: 100%;\n    margin-bottom: 20px;\n    border: 0;\n    padding: 10px;\n    border-bottom: 1px solid rgb(128, 125, 125);\n    font-size: 15px;\n    outline: none;\n}\n\n.input-item:placeholder {\n    text-transform: uppercase;\n}\n\n.btn {\n    text-align: center;\n    padding: 10px;\n    width: 100%;\n    margin-top: 40px;\n    background-image: linear-gradient(to right, #a6c1ee, #fbc2eb);\n    color: #fff;\n}\n\n.msg {\n    text-align: center;\n    line-height: 88px;\n}\n\n.isbackground{\n    z-index:-1;\n}\n\n.ishow{\n    z-index: 1;\n    width:412px;\n    position: absolute;\n}   \n\na {\n    text-decoration-line: none;\n    color: #abc1ee;\n}\n</style>"],"mappings":";;EACS,SAAM;AAAW;;EACb,SAAM;AAAe;8BACtBA,mBAAA,CAA+B;EAA1B,SAAM;AAAQ,GAAC,OAAK;;EACpB,SAAM;AAAO;;EAWT,SAAM;AAAc;;8BAS7BA,mBAAA,CAGM;EAHD,SAAM;AAAK,I,8BAAC,uBAEb,G,aAAAA,mBAAA,CAAuB;EAApBC,IAAI,EAAC;AAAG,GAAC,SAAO,E;;;;;uBAzB/BC,mBAAA,CA4BM,OA5BNC,UA4BM,GA3BFH,mBAAA,CA0BM,OA1BNI,UA0BM,GAzBFC,UAA+B,E,gBAC/BL,mBAAA,CASM,OATNM,UASM,GARFC,YAAA,CAOQC,gBAAA;IAPAC,IAAI,EAAE;EAAE;wBACZ;MAAA,OAKU,CALVF,YAAA,CAKUG,kBAAA;QALDC,IAAI,EAAC,OAAO;QAACC,QAAQ,EAAR;;QACPC,KAAK,EAAAC,QAAA,CACZ;UAAA,OAA+B,C,kCAA5BC,IAAA,CAAAC,MAAM,CAACC,OAAO,CAACC,SAAS,iB;;;4BACpB;UAAA,OACX,C,iBADW,GACX,GAAAC,gBAAA,CAAGJ,IAAA,CAAAK,MAAM,iB;;;;;;;;wCANML,IAAA,CAAAM,KAAK,E,GAUhCrB,mBAAA,CASM;IATA,SAAKsB,eAAA;MAAA,gBAAkBP,IAAA,CAAAQ;IAAY;MACrCvB,mBAAA,CAOE,OAPFwB,UAOE,G,gBANFxB,mBAAA,CAA8F;IAAvFW,IAAI,EAAC,MAAM;;aAAUI,IAAA,CAAAU,QAAQ,GAAAC,MAAA;IAAA;IAAEC,EAAE,EAAC,UAAU;IAACC,WAAW,EAAC,UAAU;IAAC,SAAM;iDAArDb,IAAA,CAAAU,QAAQ,E,mBACpCzB,mBAAA,CAAkG;IAA3FW,IAAI,EAAC,UAAU;;aAAUI,IAAA,CAAAc,QAAQ,GAAAH,MAAA;IAAA;IAAEC,EAAE,EAAC,UAAU;IAACC,WAAW,EAAC,UAAU;IAAC,SAAM;iDAArDb,IAAA,CAAAc,QAAQ,E,mBACxC7B,mBAAA,CACuB;IADhBW,IAAI,EAAC,MAAM;;aAAUI,IAAA,CAAAe,gBAAgB,GAAAJ,MAAA;IAAA;IAAEC,EAAE,EAAC,kBAAkB;IAACC,WAAW,EAAC,mBAAmB;IAC/F,SAAM;iDADkBb,IAAA,CAAAe,gBAAgB,E,GAE5C9B,mBAAA,CAA4D;IAAtD+B,OAAK,EAAAC,MAAA,QAAAA,MAAA;MAAA,OAAEjB,IAAA,CAAAkB,QAAA,IAAAlB,IAAA,CAAAkB,QAAA,CAAAC,KAAA,CAAAnB,IAAA,EAAAoB,SAAA,CAAQ;IAAA;IAAGC,GAAG,EAAErB,IAAA,CAAAC,MAAM,CAACC,OAAO,CAACoB;uCAC5CrC,mBAAA,CAAyD;IAApD,SAAM,KAAK;IAACW,IAAI,EAAC,QAAQ;IAAEoB,OAAK,EAAAC,MAAA,QAAAA,MAAA;MAAA,OAAEjB,IAAA,CAAAuB,KAAA,IAAAvB,IAAA,CAAAuB,KAAA,CAAAJ,KAAA,CAAAnB,IAAA,EAAAoB,SAAA,CAAK;IAAA;KAAE,OAAK,E,oBAGvDI,UAGM,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}
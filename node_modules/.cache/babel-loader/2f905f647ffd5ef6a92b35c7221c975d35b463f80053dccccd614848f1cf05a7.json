{"ast":null,"code":"import \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport { computed, ref } from \"vue\";\nimport { getLeafKeys } from \"../utils.js\";\nimport { union } from \"../../_utils/array.js\";\nvar useRowSelection = function useRowSelection(_ref) {\n  var selectedKeys = _ref.selectedKeys,\n    defaultSelectedKeys = _ref.defaultSelectedKeys,\n    rowSelection = _ref.rowSelection,\n    currentAllRowKeys = _ref.currentAllRowKeys,\n    currentAllEnabledRowKeys = _ref.currentAllEnabledRowKeys,\n    emit = _ref.emit;\n  var _a, _b, _c;\n  var isRadio = computed(function () {\n    var _a2;\n    return ((_a2 = rowSelection.value) == null ? void 0 : _a2.type) === \"radio\";\n  });\n  var _selectedRowKeys = ref((_c = (_b = defaultSelectedKeys.value) != null ? _b : (_a = rowSelection.value) == null ? void 0 : _a.defaultSelectedRowKeys) != null ? _c : []);\n  var selectedRowKeys = computed(function () {\n    var _a2, _b2, _c2;\n    return (_c2 = (_b2 = selectedKeys.value) != null ? _b2 : (_a2 = rowSelection.value) == null ? void 0 : _a2.selectedRowKeys) != null ? _c2 : _selectedRowKeys.value;\n  });\n  var currentSelectedRowKeys = computed(function () {\n    return selectedRowKeys.value.filter(function (key) {\n      return currentAllRowKeys.value.includes(key);\n    });\n  });\n  var handleSelectAll = function handleSelectAll(checked) {\n    var newKeys = union(selectedRowKeys.value, currentAllEnabledRowKeys.value, !checked);\n    _selectedRowKeys.value = newKeys;\n    emit(\"selectAll\", checked);\n    emit(\"selectionChange\", newKeys);\n    emit(\"update:selectedKeys\", newKeys);\n  };\n  var handleSelect = function handleSelect(checked, record) {\n    var selectedAllRowKeys = isRadio.value ? [record.key] : union(selectedRowKeys.value, [record.key], !checked);\n    _selectedRowKeys.value = selectedAllRowKeys;\n    emit(\"select\", selectedAllRowKeys, record.key, record.raw);\n    emit(\"selectionChange\", selectedAllRowKeys);\n    emit(\"update:selectedKeys\", selectedAllRowKeys);\n  };\n  var handleSelectAllLeafs = function handleSelectAllLeafs(record, checked) {\n    var newKeys = union(selectedRowKeys.value, getLeafKeys(record), !checked);\n    _selectedRowKeys.value = newKeys;\n    emit(\"select\", newKeys, record.key, record.raw);\n    emit(\"selectionChange\", newKeys);\n    emit(\"update:selectedKeys\", newKeys);\n  };\n  var select = function select(rowKey) {\n    var checked = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var _rowKeys = [].concat(rowKey);\n    var newSelectedRowKeys = isRadio.value ? _rowKeys : union(selectedRowKeys.value, _rowKeys, !checked);\n    _selectedRowKeys.value = newSelectedRowKeys;\n    emit(\"selectionChange\", newSelectedRowKeys);\n    emit(\"update:selectedKeys\", newSelectedRowKeys);\n  };\n  var selectAll = function selectAll() {\n    var checked = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    var newKeys = union(selectedRowKeys.value, currentAllEnabledRowKeys.value, !checked);\n    _selectedRowKeys.value = newKeys;\n    emit(\"selectionChange\", newKeys);\n    emit(\"update:selectedKeys\", newKeys);\n  };\n  var clearSelected = function clearSelected() {\n    _selectedRowKeys.value = [];\n    emit(\"selectionChange\", []);\n    emit(\"update:selectedKeys\", []);\n  };\n  return {\n    isRadio: isRadio,\n    selectedRowKeys: selectedRowKeys,\n    currentSelectedRowKeys: currentSelectedRowKeys,\n    handleSelectAll: handleSelectAll,\n    handleSelect: handleSelect,\n    handleSelectAllLeafs: handleSelectAllLeafs,\n    select: select,\n    selectAll: selectAll,\n    clearSelected: clearSelected\n  };\n};\nexport { useRowSelection };","map":{"version":3,"names":["computed","ref","getLeafKeys","union","useRowSelection","_ref","selectedKeys","defaultSelectedKeys","rowSelection","currentAllRowKeys","currentAllEnabledRowKeys","emit","_a","_b","_c","isRadio","_a2","value","type","_selectedRowKeys","defaultSelectedRowKeys","selectedRowKeys","_b2","_c2","currentSelectedRowKeys","filter","key","includes","handleSelectAll","checked","newKeys","handleSelect","record","selectedAllRowKeys","raw","handleSelectAllLeafs","select","rowKey","arguments","length","undefined","_rowKeys","concat","newSelectedRowKeys","selectAll","clearSelected"],"sources":["/root/FrontPlatform/vue-front/node_modules/@arco-design/web-vue/es/table/hooks/use-row-selection.js"],"sourcesContent":["import { computed, ref } from \"vue\";\nimport { getLeafKeys } from \"../utils.js\";\nimport { union } from \"../../_utils/array.js\";\nconst useRowSelection = ({\n  selectedKeys,\n  defaultSelectedKeys,\n  rowSelection,\n  currentAllRowKeys,\n  currentAllEnabledRowKeys,\n  emit\n}) => {\n  var _a, _b, _c;\n  const isRadio = computed(() => {\n    var _a2;\n    return ((_a2 = rowSelection.value) == null ? void 0 : _a2.type) === \"radio\";\n  });\n  const _selectedRowKeys = ref((_c = (_b = defaultSelectedKeys.value) != null ? _b : (_a = rowSelection.value) == null ? void 0 : _a.defaultSelectedRowKeys) != null ? _c : []);\n  const selectedRowKeys = computed(() => {\n    var _a2, _b2, _c2;\n    return (_c2 = (_b2 = selectedKeys.value) != null ? _b2 : (_a2 = rowSelection.value) == null ? void 0 : _a2.selectedRowKeys) != null ? _c2 : _selectedRowKeys.value;\n  });\n  const currentSelectedRowKeys = computed(() => selectedRowKeys.value.filter((key) => currentAllRowKeys.value.includes(key)));\n  const handleSelectAll = (checked) => {\n    const newKeys = union(selectedRowKeys.value, currentAllEnabledRowKeys.value, !checked);\n    _selectedRowKeys.value = newKeys;\n    emit(\"selectAll\", checked);\n    emit(\"selectionChange\", newKeys);\n    emit(\"update:selectedKeys\", newKeys);\n  };\n  const handleSelect = (checked, record) => {\n    const selectedAllRowKeys = isRadio.value ? [record.key] : union(selectedRowKeys.value, [record.key], !checked);\n    _selectedRowKeys.value = selectedAllRowKeys;\n    emit(\"select\", selectedAllRowKeys, record.key, record.raw);\n    emit(\"selectionChange\", selectedAllRowKeys);\n    emit(\"update:selectedKeys\", selectedAllRowKeys);\n  };\n  const handleSelectAllLeafs = (record, checked) => {\n    const newKeys = union(selectedRowKeys.value, getLeafKeys(record), !checked);\n    _selectedRowKeys.value = newKeys;\n    emit(\"select\", newKeys, record.key, record.raw);\n    emit(\"selectionChange\", newKeys);\n    emit(\"update:selectedKeys\", newKeys);\n  };\n  const select = (rowKey, checked = true) => {\n    const _rowKeys = [].concat(rowKey);\n    const newSelectedRowKeys = isRadio.value ? _rowKeys : union(selectedRowKeys.value, _rowKeys, !checked);\n    _selectedRowKeys.value = newSelectedRowKeys;\n    emit(\"selectionChange\", newSelectedRowKeys);\n    emit(\"update:selectedKeys\", newSelectedRowKeys);\n  };\n  const selectAll = (checked = true) => {\n    const newKeys = union(selectedRowKeys.value, currentAllEnabledRowKeys.value, !checked);\n    _selectedRowKeys.value = newKeys;\n    emit(\"selectionChange\", newKeys);\n    emit(\"update:selectedKeys\", newKeys);\n  };\n  const clearSelected = () => {\n    _selectedRowKeys.value = [];\n    emit(\"selectionChange\", []);\n    emit(\"update:selectedKeys\", []);\n  };\n  return {\n    isRadio,\n    selectedRowKeys,\n    currentSelectedRowKeys,\n    handleSelectAll,\n    handleSelect,\n    handleSelectAllLeafs,\n    select,\n    selectAll,\n    clearSelected\n  };\n};\nexport { useRowSelection };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
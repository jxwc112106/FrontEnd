{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport { ref, computed, watch, onMounted, onUpdated } from \"vue\";\nimport { isUndefined } from \"../_utils/is.js\";\nvar useIndex = function useIndex(_ref) {\n  var itemRef = _ref.itemRef,\n    selector = _ref.selector,\n    index = _ref.index,\n    parentClassName = _ref.parentClassName;\n  var _index = ref(-1);\n  var computedIndex = computed(function () {\n    var _a;\n    return (_a = index == null ? void 0 : index.value) != null ? _a : _index.value;\n  });\n  var parent = ref();\n  var getParent = function getParent() {\n    var _a, _b, _c;\n    var parent2 = (_b = (_a = itemRef.value) == null ? void 0 : _a.parentElement) != null ? _b : void 0;\n    if (parentClassName) {\n      while (parent2 && !parent2.className.includes(parentClassName)) {\n        parent2 = (_c = parent2.parentElement) != null ? _c : void 0;\n      }\n    }\n    return parent2;\n  };\n  var getIndex = function getIndex() {\n    if (isUndefined(index == null ? void 0 : index.value) && parent.value && itemRef.value) {\n      var index2 = Array.from(parent.value.querySelectorAll(selector)).indexOf(itemRef.value);\n      if (index2 !== _index.value) {\n        _index.value = index2;\n      }\n    }\n  };\n  watch(itemRef, function () {\n    if (itemRef.value && !parent.value) {\n      parent.value = getParent();\n    }\n  });\n  onMounted(function () {\n    if (itemRef.value) {\n      parent.value = getParent();\n    }\n    getIndex();\n  });\n  onUpdated(function () {\n    return getIndex();\n  });\n  return {\n    computedIndex: computedIndex\n  };\n};\nexport { useIndex };","map":{"version":3,"names":["ref","computed","watch","onMounted","onUpdated","isUndefined","useIndex","_ref","itemRef","selector","index","parentClassName","_index","computedIndex","_a","value","parent","getParent","_b","_c","parent2","parentElement","className","includes","getIndex","index2","Array","from","querySelectorAll","indexOf"],"sources":["/root/FrontPlatform/vue-front/node_modules/@arco-design/web-vue/es/_hooks/use-index.js"],"sourcesContent":["import { ref, computed, watch, onMounted, onUpdated } from \"vue\";\nimport { isUndefined } from \"../_utils/is.js\";\nconst useIndex = ({\n  itemRef,\n  selector,\n  index,\n  parentClassName\n}) => {\n  const _index = ref(-1);\n  const computedIndex = computed(() => {\n    var _a;\n    return (_a = index == null ? void 0 : index.value) != null ? _a : _index.value;\n  });\n  const parent = ref();\n  const getParent = () => {\n    var _a, _b, _c;\n    let parent2 = (_b = (_a = itemRef.value) == null ? void 0 : _a.parentElement) != null ? _b : void 0;\n    if (parentClassName) {\n      while (parent2 && !parent2.className.includes(parentClassName)) {\n        parent2 = (_c = parent2.parentElement) != null ? _c : void 0;\n      }\n    }\n    return parent2;\n  };\n  const getIndex = () => {\n    if (isUndefined(index == null ? void 0 : index.value) && parent.value && itemRef.value) {\n      const index2 = Array.from(parent.value.querySelectorAll(selector)).indexOf(itemRef.value);\n      if (index2 !== _index.value) {\n        _index.value = index2;\n      }\n    }\n  };\n  watch(itemRef, () => {\n    if (itemRef.value && !parent.value) {\n      parent.value = getParent();\n    }\n  });\n  onMounted(() => {\n    if (itemRef.value) {\n      parent.value = getParent();\n    }\n    getIndex();\n  });\n  onUpdated(() => getIndex());\n  return {\n    computedIndex\n  };\n};\nexport { useIndex };\n"],"mappings":";;;;;AAAA,SAASA,GAAG,EAAEC,QAAQ,EAAEC,KAAK,EAAEC,SAAS,EAAEC,SAAS,QAAQ,KAAK;AAChE,SAASC,WAAW,QAAQ,iBAAiB;AAC7C,IAAMC,QAAQ,GAAG,SAAXA,QAAQA,CAAAC,IAAA,EAKR;EAAA,IAJJC,OAAO,GAAAD,IAAA,CAAPC,OAAO;IACPC,QAAQ,GAAAF,IAAA,CAARE,QAAQ;IACRC,KAAK,GAAAH,IAAA,CAALG,KAAK;IACLC,eAAe,GAAAJ,IAAA,CAAfI,eAAe;EAEf,IAAMC,MAAM,GAAGZ,GAAG,CAAC,CAAC,CAAC,CAAC;EACtB,IAAMa,aAAa,GAAGZ,QAAQ,CAAC,YAAM;IACnC,IAAIa,EAAE;IACN,OAAO,CAACA,EAAE,GAAGJ,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACK,KAAK,KAAK,IAAI,GAAGD,EAAE,GAAGF,MAAM,CAACG,KAAK;EAChF,CAAC,CAAC;EACF,IAAMC,MAAM,GAAGhB,GAAG,EAAE;EACpB,IAAMiB,SAAS,GAAG,SAAZA,SAASA,CAAA,EAAS;IACtB,IAAIH,EAAE,EAAEI,EAAE,EAAEC,EAAE;IACd,IAAIC,OAAO,GAAG,CAACF,EAAE,GAAG,CAACJ,EAAE,GAAGN,OAAO,CAACO,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGD,EAAE,CAACO,aAAa,KAAK,IAAI,GAAGH,EAAE,GAAG,KAAK,CAAC;IACnG,IAAIP,eAAe,EAAE;MACnB,OAAOS,OAAO,IAAI,CAACA,OAAO,CAACE,SAAS,CAACC,QAAQ,CAACZ,eAAe,CAAC,EAAE;QAC9DS,OAAO,GAAG,CAACD,EAAE,GAAGC,OAAO,CAACC,aAAa,KAAK,IAAI,GAAGF,EAAE,GAAG,KAAK,CAAC;MAC9D;IACF;IACA,OAAOC,OAAO;EAChB,CAAC;EACD,IAAMI,QAAQ,GAAG,SAAXA,QAAQA,CAAA,EAAS;IACrB,IAAInB,WAAW,CAACK,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACK,KAAK,CAAC,IAAIC,MAAM,CAACD,KAAK,IAAIP,OAAO,CAACO,KAAK,EAAE;MACtF,IAAMU,MAAM,GAAGC,KAAK,CAACC,IAAI,CAACX,MAAM,CAACD,KAAK,CAACa,gBAAgB,CAACnB,QAAQ,CAAC,CAAC,CAACoB,OAAO,CAACrB,OAAO,CAACO,KAAK,CAAC;MACzF,IAAIU,MAAM,KAAKb,MAAM,CAACG,KAAK,EAAE;QAC3BH,MAAM,CAACG,KAAK,GAAGU,MAAM;MACvB;IACF;EACF,CAAC;EACDvB,KAAK,CAACM,OAAO,EAAE,YAAM;IACnB,IAAIA,OAAO,CAACO,KAAK,IAAI,CAACC,MAAM,CAACD,KAAK,EAAE;MAClCC,MAAM,CAACD,KAAK,GAAGE,SAAS,EAAE;IAC5B;EACF,CAAC,CAAC;EACFd,SAAS,CAAC,YAAM;IACd,IAAIK,OAAO,CAACO,KAAK,EAAE;MACjBC,MAAM,CAACD,KAAK,GAAGE,SAAS,EAAE;IAC5B;IACAO,QAAQ,EAAE;EACZ,CAAC,CAAC;EACFpB,SAAS,CAAC;IAAA,OAAMoB,QAAQ,EAAE;EAAA,EAAC;EAC3B,OAAO;IACLX,aAAa,EAAbA;EACF,CAAC;AACH,CAAC;AACD,SAASP,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}
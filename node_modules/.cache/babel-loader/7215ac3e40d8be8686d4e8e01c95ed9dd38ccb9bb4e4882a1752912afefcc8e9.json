{"ast":null,"code":"import _slicedToArray from \"/root/FrontPlatform/vue-front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { toRefs, ref, watchEffect, computed } from \"vue\";\nimport { getCheckedStateByInitKeys } from \"../utils/check-utils.js\";\nfunction useCheckedState(props) {\n  var _toRefs = toRefs(props),\n    defaultCheckedKeys = _toRefs.defaultCheckedKeys,\n    propCheckedKeys = _toRefs.checkedKeys,\n    key2TreeNode = _toRefs.key2TreeNode,\n    checkStrictly = _toRefs.checkStrictly,\n    halfCheckedKeys = _toRefs.halfCheckedKeys,\n    onlyCheckLeaf = _toRefs.onlyCheckLeaf;\n  var isInitialized = ref(false);\n  var localCheckedKeys = ref([]);\n  var localIndeterminateKeys = ref([]);\n  var computedCheckedKeys = ref();\n  var computedIndeterminateKeys = ref();\n  var getStateByKeys = function getStateByKeys(keys) {\n    return getCheckedStateByInitKeys({\n      initCheckedKeys: keys,\n      key2TreeNode: key2TreeNode.value,\n      checkStrictly: checkStrictly.value,\n      onlyCheckLeaf: onlyCheckLeaf.value\n    });\n  };\n  var init = function init(keys) {\n    var initState = getStateByKeys(keys);\n    var _initState = _slicedToArray(initState, 2);\n    localCheckedKeys.value = _initState[0];\n    localIndeterminateKeys.value = _initState[1];\n  };\n  init(propCheckedKeys.value || (defaultCheckedKeys == null ? void 0 : defaultCheckedKeys.value) || []);\n  watchEffect(function () {\n    if (propCheckedKeys.value) {\n      var _getStateByKeys = getStateByKeys(propCheckedKeys.value);\n      var _getStateByKeys2 = _slicedToArray(_getStateByKeys, 2);\n      computedCheckedKeys.value = _getStateByKeys2[0];\n      computedIndeterminateKeys.value = _getStateByKeys2[1];\n    } else if (isInitialized.value) {\n      computedCheckedKeys.value = void 0;\n      computedIndeterminateKeys.value = void 0;\n      localCheckedKeys.value = [];\n      localIndeterminateKeys.value = [];\n    }\n    if (!isInitialized.value) {\n      isInitialized.value = true;\n    }\n  });\n  return {\n    checkedKeys: computed(function () {\n      return computedCheckedKeys.value || localCheckedKeys.value;\n    }),\n    indeterminateKeys: computed(function () {\n      if (checkStrictly.value && halfCheckedKeys.value) {\n        return halfCheckedKeys.value;\n      }\n      return computedIndeterminateKeys.value || localIndeterminateKeys.value;\n    }),\n    setCheckedState: function setCheckedState(newCheckedKeys, newIndeterminateKeys) {\n      var reinitialize = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      if (reinitialize) {\n        init(newCheckedKeys);\n      } else {\n        localCheckedKeys.value = newCheckedKeys;\n        localIndeterminateKeys.value = newIndeterminateKeys;\n      }\n      return [localCheckedKeys.value, localIndeterminateKeys.value];\n    }\n  };\n}\nexport { useCheckedState as default };","map":{"version":3,"names":["toRefs","ref","watchEffect","computed","getCheckedStateByInitKeys","useCheckedState","props","_toRefs","defaultCheckedKeys","propCheckedKeys","checkedKeys","key2TreeNode","checkStrictly","halfCheckedKeys","onlyCheckLeaf","isInitialized","localCheckedKeys","localIndeterminateKeys","computedCheckedKeys","computedIndeterminateKeys","getStateByKeys","keys","initCheckedKeys","value","init","initState","_initState","_slicedToArray","_getStateByKeys","_getStateByKeys2","indeterminateKeys","setCheckedState","newCheckedKeys","newIndeterminateKeys","reinitialize","arguments","length","undefined","default"],"sources":["/root/FrontPlatform/vue-front/node_modules/@arco-design/web-vue/es/tree/hooks/use-checked-state.js"],"sourcesContent":["import { toRefs, ref, watchEffect, computed } from \"vue\";\nimport { getCheckedStateByInitKeys } from \"../utils/check-utils.js\";\nfunction useCheckedState(props) {\n  const {\n    defaultCheckedKeys,\n    checkedKeys: propCheckedKeys,\n    key2TreeNode,\n    checkStrictly,\n    halfCheckedKeys,\n    onlyCheckLeaf\n  } = toRefs(props);\n  const isInitialized = ref(false);\n  const localCheckedKeys = ref([]);\n  const localIndeterminateKeys = ref([]);\n  const computedCheckedKeys = ref();\n  const computedIndeterminateKeys = ref();\n  const getStateByKeys = (keys) => {\n    return getCheckedStateByInitKeys({\n      initCheckedKeys: keys,\n      key2TreeNode: key2TreeNode.value,\n      checkStrictly: checkStrictly.value,\n      onlyCheckLeaf: onlyCheckLeaf.value\n    });\n  };\n  const init = (keys) => {\n    const initState = getStateByKeys(keys);\n    [localCheckedKeys.value, localIndeterminateKeys.value] = initState;\n  };\n  init(propCheckedKeys.value || (defaultCheckedKeys == null ? void 0 : defaultCheckedKeys.value) || []);\n  watchEffect(() => {\n    if (propCheckedKeys.value) {\n      [computedCheckedKeys.value, computedIndeterminateKeys.value] = getStateByKeys(propCheckedKeys.value);\n    } else if (isInitialized.value) {\n      computedCheckedKeys.value = void 0;\n      computedIndeterminateKeys.value = void 0;\n      localCheckedKeys.value = [];\n      localIndeterminateKeys.value = [];\n    }\n    if (!isInitialized.value) {\n      isInitialized.value = true;\n    }\n  });\n  return {\n    checkedKeys: computed(() => computedCheckedKeys.value || localCheckedKeys.value),\n    indeterminateKeys: computed(() => {\n      if (checkStrictly.value && halfCheckedKeys.value) {\n        return halfCheckedKeys.value;\n      }\n      return computedIndeterminateKeys.value || localIndeterminateKeys.value;\n    }),\n    setCheckedState(newCheckedKeys, newIndeterminateKeys, reinitialize = false) {\n      if (reinitialize) {\n        init(newCheckedKeys);\n      } else {\n        localCheckedKeys.value = newCheckedKeys;\n        localIndeterminateKeys.value = newIndeterminateKeys;\n      }\n      return [localCheckedKeys.value, localIndeterminateKeys.value];\n    }\n  };\n}\nexport { useCheckedState as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}